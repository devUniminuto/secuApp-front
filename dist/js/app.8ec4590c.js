(function(){"use strict";var e={6949:function(e,t,o){var i=o(144),a=o(998),s=function(){var e=this,t=e._self._c;return e.validUser?t(a.Z,[t("Menu"),t("div",{staticClass:"content"},[t("router-view",{scopedSlots:e._u([{key:"default",fn:function({Component:e}){return[t("transition",{attrs:{name:"fade"}},[t(e,{tag:"component"})],1)]}}],null,!1,318121644)})],1)],1):"/candidatoUpload/:id"==e.$route.matched[0].path?t(a.Z,[t("router-view",{scopedSlots:e._u([{key:"default",fn:function({Component:e}){return[t("transition",{attrs:{name:"fade"}},[t(e,{tag:"component"})],1)]}}])})],1):"/restorePassword"==e.$route.matched[0].path?t(a.Z,[t("RestorePassword")],1):t(a.Z,{staticClass:"NoMenuContent"},[t("Login",{staticClass:"Login"}),t("svg",{staticClass:"svgBackground",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320"}},[t("path",{attrs:{fill:"#385DA6","fill-opacity":"1",d:"M0,64L48,101.3C96,139,192,213,288,224C384,235,480,181,576,149.3C672,117,768,107,864,133.3C960,160,1056,224,1152,234.7C1248,245,1344,203,1392,181.3L1440,160L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"}})])],1)},r=[],n=(o(7658),o(7359)),c=o(4562),l=o(4145),d=o(4886),u=o(266),h=o(2118),m=o(9223),v=o(5125),p=o(4324),b=o(5495),f=o(9592),S=o(1713),g=o(7808),C=function(){var e=this,t=e._self._c;return t("div",{staticClass:"mx-auto my-12"},[t("div",{staticClass:"logoEmpresaLogin shadowHover"},[t(b.Z,{attrs:{width:"100%",src:o(7768)}})],1),t(l.Z,{staticClass:"cardLogin shadowHover",attrs:{loading:e.loading,width:"374",outlined:""}},[t("template",{slot:"progress"},[t(f.Z,{attrs:{color:"deep-purple",height:"4",indeterminate:""}})],1),t(d.EB,{staticClass:"titulo text-center"},[e._v("Inicio de Sesión")]),t(d.ZB,[t(v.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(h.Z,[t(S.Z,[t(u.Z,{attrs:{cols:"12",md:"12"}},[t(g.Z,{attrs:{label:"Usuario",rules:e.rulesRequired,required:""},model:{value:e.user,callback:function(t){e.user=t},expression:"user"}})],1),t(u.Z,{attrs:{cols:"12",md:"12"}},[t(g.Z,{attrs:{rules:e.rulesRequired,label:"Contraseña",type:"password",required:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1)],1)],1)],1),t(m.Z,{staticClass:"mx-4"}),t(d.h7,[t(S.Z,[t(u.Z,{attrs:{cols:"12",md:"12"}},[t(c.Z,{attrs:{color:"lighten-2",text:""},on:{click:e.login}},[e._v(" Iniciar Sesión ")])],1),t(u.Z,{attrs:{cols:"12",md:"6"}},[t(c.Z,{attrs:{color:"lighten-2",text:""},on:{click:e.recuperarContrasena}},[e._v(" Recuperar "),t("br"),e._v(" Contraseña ")])],1),t(u.Z,{attrs:{cols:"12",md:"6"}},[t(c.Z,{attrs:{color:"lighten-2",text:""},on:{click:function(e){}}},[e._v(" ¿Desea "),t("br"),e._v(" registrarse? ")])],1)],1)],1),t(n.Z,{staticStyle:{"z-index":"1"},attrs:{value:e.alertError,color:"error",dark:"",border:"top",icon:"mdi-error",transition:"slide-y-transition"}},[t("div",{staticClass:"pt-2 pr-6"},[t(c.Z,{attrs:{color:"error",fab:"","x-small":""},on:{click:e.show_alert_and_fade}},[t(p.Z,[e._v("mdi-close")])],1),t("br"),t("br"),e._v(" "+e._s(e.msgError)+" ")],1)])],2)],1)},_=[],x=o(8945);const Z={"Content-Type":"application/json"},E={"Content-Type":"application/json",Authorization:localStorage.getItem("userTkn")},w={"Content-Type":"application/pdf",Authorization:localStorage.getItem("userTkn"),Accept:"application/pdf"},$=(localStorage.getItem("userTkn"),{"Content-Type":"multipart/form-data",Authorization:localStorage.getItem("userTkn")}),k="http://localhost/backend/",T=["auth/","location/","formsBuilder/","helpers/","informes/"];function F(e){return x.Z.post(`${k}${T[0]}login.php`,e,{headers:Z})}function R(e){return x.Z.post(`${k}${T[0]}register.php`,e,{headers:E})}function y(e){return x.Z.post(`${k}${T[0]}habilitarUsuario.php`,e,{headers:E})}function U(e){return x.Z.post(`${k}${T[2]}habilitarServicio.php`,e,{headers:E})}function O(){return x.Z.get(`${k}${T[2]}getServicioDeshabilitados.php`,{headers:E})}function V(e){return x.Z.post(`${k}${T[0]}changePassword.php`,e,{headers:Z})}function D(){let e={"Content-Type":"application/json",Authorization:localStorage.getItem("userTkn")};return console.log(e),x.Z.get(`${k}${T[0]}infoUser.php`,{headers:e})}function I(e){return console.log($),x.Z.post(`${k}${T[0]}updatePasswordWithOld.php`,e,{headers:E})}function B(){return x.Z.get(`${k}${T[2]}getRoles.php`,{headers:Z})}function P(){return x.Z.get(`${k}${T[0]}getMenu.php`,{headers:E})}function M(){return x.Z.get(`${k}${T[2]}getEstadosPeticiones.php`,{headers:Z})}function A(){return x.Z.get(`${k}${T[0]}getAllUsers.php`,{headers:E})}function N(e){return x.Z.post(`${k}${T[0]}updateSpecificUser.php`,e,{headers:E})}function z(e){return x.Z.get(`${k}${T[0]}getInfoSpecificUser.php?id=`+e,{headers:E})}function q(){return x.Z.get(`${k}${T[0]}getClientes.php`,{headers:E})}function L(e=""){return x.Z.get(`${k}${T[0]}getFunProv.php?idServicio=`+e,{headers:E})}function H(e){return x.Z.post(`${k}${T[2]}updateEncargadoSolicitud.php`,e,{headers:E})}function K(e){return x.Z.post(`${k}${T[2]}updateObservacionesAnalistaProveedor.php`,e,{headers:E})}function j(e){return x.Z.post(`${k}${T[2]}updateObservacionesArchivoInd.php`,e,{headers:E})}function G(e){return x.Z.get(`${k}${T[2]}getObservacionesAnalista.php?id=`+e,{headers:E})}function W(e){return x.Z.get(`${k}${T[2]}eliminarObservacion.php?id=`+e,{headers:E})}function J(e){return x.Z.post(`${k}${T[2]}updateEstadoSolicitud.php`,e,{headers:E})}function Q(){return x.Z.get(`${k}${T[1]}getDepartamento.php`,{headers:Z})}function X(e){return x.Z.get(`${k}${T[1]}getCiudad.php?id=`+e,{headers:Z})}function Y(){return x.Z.get(`${k}${T[2]}getServicio.php`,{headers:Z})}function ee(e){return x.Z.get(`${k}${T[2]}getSubServicio.php?id=`+e,{headers:Z})}function te(e){return x.Z.get(`${k}${T[2]}getSubServicioByName.php?id=`+e,{headers:Z})}function oe(e){return x.Z.get(`${k}${T[2]}getServicioEspecifico.php?id=`+e,{headers:Z})}function ie(e){return x.Z.get(`${k}${T[2]}getServicioEspecificoEspecifico.php?id=`+e,{headers:Z})}function ae(){return x.Z.get(`${k}${T[2]}getDocumentos.php`,{headers:Z})}function se(e){return x.Z.post(`${k}${T[2]}newForm.php`,e,{headers:$})}function re(){return x.Z.get(`${k}${T[2]}getForms.php`,{headers:E})}function ne(e){return x.Z.get(`${k}${T[2]}getForm.php?id=`+e,{headers:E})}function ce(e){return x.Z.get(`${k}${T[2]}getArchivos.php?id=`+e,{headers:E})}function le(e){return x.Z.post(`${k}${T[2]}subirArchivos.php`,e,{headers:$})}function de(e){return x.Z.get(`${k}${T[2]}eliminarArchivo.php?id=`+e,{headers:E})}function ue(e){return x.Z.get(`${k}${T[2]}eliminarArchivoCandidato.php?id=`+e,{headers:E})}function he(e){return x.Z.get(`${k}${T[2]}getFormCandidato.php?id=`+e,{headers:E})}function me(e,t=""){return x.Z.get(`${k}${T[2]}getArchivosCandidato.php?id=`+e+"&tipo="+encodeURIComponent(t),{headers:E})}function ve(e){return x.Z.post(`${k}${T[2]}subirArchivosCandidato.php`,e,{headers:$})}function pe(e){return x.Z.get(`${k}${T[2]}finalizarSubirArchivosCandidato.php?id=`+e,{headers:E})}function be(e){return x.Z.post(`${k}${T[2]}newServicio.php`,e,{headers:E})}function fe(e){return x.Z.post(`${k}${T[2]}updateServicio.php`,e,{headers:E})}function Se(e){return x.Z.post(`${k}${T[2]}newSubServicio.php`,e,{headers:E})}function ge(e){return x.Z.post(`${k}${T[2]}updateSubServicio.php`,e,{headers:E})}function Ce(){return x.Z.get(`${k}${T[0]}getAllCandidatos.php`,{headers:E})}function _e(){return x.Z.get(`${k}${T[0]}getAllCoordinadores.php`,{headers:E})}function xe(e){return x.Z.get(`${k}${T[2]}getCandidatos.php?id=`+e,{headers:E})}function Ze(e){return x.Z.get(`${k}${T[3]}downloads.php?path=`+e,{responseType:"blob"},{headers:E})}function Ee(e){let t={headers:w};return"excel"==e.archivo&&(t.responseType="blob"),x.Z.post(`${k}${T[4]}generarCertificadosSolicitudesFuncionario.php`,e,t)}function we(e){let t={headers:E};return x.Z.post(`${k}${T[4]}previewCertificadosSolicitudes.php`,e,t)}function $e(e){return console.log($),x.Z.post(`${k}${T[4]}leerCargaMasivaDeSolicitudes.php`,e,{headers:$})}var ke={data:()=>({loading:!1,valid:!0,selection:1,user:null,password:null,rulesRequired:[e=>!!e||"Este campo es obligatorio"],msgError:"",alertError:!1}),methods:{recuperarContrasena(){this.$router.push({path:"/restorePassword"}).catch((()=>{}))},login(){const e=this.$refs.form.validate();e&&(this.loading=!0,this.alertError=!1,F({user:this.user,password:this.password}).then(function(e){console.log(e.data),1==e.data[0].status?(localStorage.setItem("userTkn",e.data[1].jwt),this.$router.push({path:"/"}).catch((()=>{})),window.location.reload()):(this.loading=!1,this.alertError=!0,this.msgError="Error al iniciar sesión, credenciales inválidas.")}.bind(this)).catch(function(e){console.log(e),this.loading=!1,this.alertError=!0,this.msgError="Error al realizar solicitud, contáctese con el administrador."}.bind(this)))},show_alert_and_fade(){this.alertError=!this.alertError}}},Te=ke,Fe=o(1001),Re=(0,Fe.Z)(Te,C,_,!1,null,null,null),ye=Re.exports,Ue=function(){var e=this,t=e._self._c;return t("div",{staticClass:"mx-auto my-12"},[t("div",{staticClass:"logoEmpresaLogin shadowHover"},[t(b.Z,{attrs:{width:"100%",src:o(7768)}})],1),t(l.Z,{staticClass:"cardLogin shadowHover",attrs:{loading:e.loading,width:"374",outlined:""}},[t("template",{slot:"progress"},[t(f.Z,{attrs:{color:"deep-purple",height:"4",indeterminate:""}})],1),t(d.EB,{staticClass:"titulo text-center"},[e._v("Recuperar contraseña")]),t(d.ZB,[t(v.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[e._v(" Ingrese su correo y si es válido, va a recibir una notificación con su nueva contraseña. "),t(h.Z,[t(S.Z,[t(u.Z,{attrs:{cols:"12",md:"12"}},[t(g.Z,{attrs:{label:"Correo",rules:e.rulesRequired,required:""},model:{value:e.user,callback:function(t){e.user=t},expression:"user"}})],1)],1)],1)],1)],1),t(m.Z,{staticClass:"mx-4"}),t(d.h7,[t(S.Z,[t(u.Z,{attrs:{cols:"12",md:"12"}},[t(c.Z,{attrs:{color:"lighten-2",text:""},on:{click:e.actualizarPassword}},[e._v(" Cambiar contraseña ")])],1),t(u.Z,{attrs:{cols:"12",md:"6"}},[t(c.Z,{attrs:{color:"lighten-2",text:""},on:{click:e.iniciarSesion}},[e._v(" Iniciar sesión ")])],1),t(u.Z,{attrs:{cols:"12",md:"6"}},[t(c.Z,{attrs:{color:"lighten-2",text:""},on:{click:e.registerHelp}},[e._v(" ¿Desea "),t("br"),e._v(" registrarse? ")])],1)],1)],1),t(n.Z,{staticStyle:{"z-index":"1"},attrs:{value:e.alertError,color:"error",dark:"",border:"top",icon:"mdi-error",transition:"slide-y-transition"}},[t("div",{staticClass:"pt-2 pr-6"},[t(c.Z,{attrs:{color:"error",fab:"","x-small":""},on:{click:e.show_alert_and_fade}},[t(p.Z,[e._v("mdi-close")])],1),t("br"),t("br"),e._v(" "+e._s(e.msgError)+" ")],1)]),t(n.Z,{staticStyle:{"z-index":"1"},attrs:{value:e.alert,color:"lighten-2",dark:"",border:"top",icon:"mdi-error",transition:"slide-y-transition"}},[t("div",{staticClass:"pt-2 pr-6"},[t(c.Z,{attrs:{color:"lighten-2",fab:"","x-small":""},on:{click:e.show_alert_and_fade}},[t(p.Z,[e._v("mdi-close")])],1),t("br"),t("br"),e._v(" "+e._s(e.msgAlert)+" ")],1)])],2)],1)},Oe=[],Ve={data:()=>({loading:!1,valid:!0,selection:1,user:null,password:null,rulesRequired:[e=>!!e||"Este campo es obligatorio"],msgError:"",alertError:!1,alert:!1,msgAlert:""}),methods:{actualizarPassword(){const e=this.$refs.form.validate();e&&(this.loading=!0,this.alertError=!1,V({user:this.user}).then(function(e){console.log(e.data),1==e.data[0].status?(this.loading=!1,this.alert=!0,this.msgAlert="Proceso realizado con éxito. Si el correo es correcto, va a recibir un correo con la nueva contraseña."):(this.loading=!1,this.alertError=!0,this.msgError="Error de comunicación, comuníquese con el administrador.")}.bind(this)).catch(function(e){console.log(e),this.loading=!1,this.alertError=!0,this.msgError="Error al realizar solicitud, contáctese con el administrador."}.bind(this)))},registerHelp(){},iniciarSesion(){this.$router.push({path:"/"}).catch((()=>{}))},show_alert_and_fade(){this.alertError=!this.alertError}}},De=Ve,Ie=(0,Fe.Z)(De,Ue,Oe,!1,null,null,null),Be=Ie.exports,Pe=function(){var e=this,t=e._self._c;return t("section",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.mostrarMenu,expression:"mostrarMenu"}],staticClass:"expanderMenu",attrs:{type:"checkbox",id:"expanderMenu"},domProps:{checked:Array.isArray(e.mostrarMenu)?e._i(e.mostrarMenu,null)>-1:e.mostrarMenu},on:{change:function(t){var o=e.mostrarMenu,i=t.target,a=!!i.checked;if(Array.isArray(o)){var s=null,r=e._i(o,s);i.checked?r<0&&(e.mostrarMenu=o.concat([s])):r>-1&&(e.mostrarMenu=o.slice(0,r).concat(o.slice(r+1)))}else e.mostrarMenu=a}}}),t("div",{staticClass:"menu shadowHover",class:{menuExpandido:e.mostrarMenu},attrs:{tabindex:"0"},on:{focusout:function(t){return e.cerrarMenu()}}},[t("span"),t("div",{staticClass:"options"},[t("div",{staticClass:"MenuExpanderResponsive"},[t("div",{staticClass:"option tooltip",on:{click:function(t){return e.cambiarEstadoMenu()}}},[e.mostrarMenu?e._e():t("span",{staticClass:"tooltiptext"},[e._v("Expandir menú")]),t(p.Z,{attrs:{size:"40px"}},[e._v(" "+e._s(e.expandIcon)+" ")])],1)]),t("div",{staticClass:"contentMenu"},[t("router-link",{attrs:{to:"/"}},[t("div",{staticClass:"option tooltip"},[e.mostrarMenu?e._e():t("span",{staticClass:"tooltiptext"},[e._v("Inicio")]),t("div",[t(p.Z,{attrs:{size:"40px"}},[e._v(" mdi-home ")]),e.mostrarMenu?t("span",[e._v(" Inicio")]):e._e()],1)])]),e._l(e.menuOptions,(function(o,i){return t("div",{key:i},[o.hasSubmenus?t("div",[t("input",{attrs:{type:"radio",name:"expander",id:"expander-"+i}}),t("label",{attrs:{for:"expander-"+i}},[t("div",{staticClass:"option tooltip",on:{click:e.abrirMenu}},[e.mostrarMenu?e._e():t("span",{staticClass:"tooltiptext"},[e._v(e._s(o.name))]),t("div",[t(p.Z,{attrs:{size:"40px"}},[e._v(" "+e._s(o.icon)+" ")]),e.mostrarMenu?t("span",[e._v(" "+e._s(o.name))]):e._e()],1)])]),e.mostrarMenu?t("div",{staticClass:"submenu"},e._l(o.submenu,(function(o,i){return t("div",{key:i,staticClass:"subopcion"},[e._v(" "+e._s(o.name)+" ")])})),0):e._e()]):t("div",[t("router-link",{attrs:{to:o.url}},[t("div",{staticClass:"option tooltip"},[e.mostrarMenu?e._e():t("span",{staticClass:"tooltiptext"},[e._v(e._s(o.name))]),t("div",[t(p.Z,{attrs:{size:"40px"}},[e._v(" "+e._s(o.icon)+" ")]),e.mostrarMenu?t("span",[e._v(" "+e._s(o.name))]):e._e()],1)])])],1)])})),t("div",{staticClass:"bottomOptions"},e._l(e.menuBottomsOptions,(function(o,i){return t("div",{key:i},[o.hasSubmenus?t("div",[t("input",{attrs:{type:"radio",name:"expander",id:"subexpander-"+i}}),t("label",{attrs:{for:"subexpander-"+i}},[t("div",{staticClass:"option tooltip",on:{click:e.abrirMenu}},[e.mostrarMenu?e._e():t("span",{staticClass:"tooltiptext"},[e._v(e._s(o.name))]),t("div",[t(p.Z,{attrs:{size:"40px"}},[e._v(" "+e._s(o.icon)+" ")]),e.mostrarMenu?t("span",[e._v(" "+e._s(o.name))]):e._e()],1)])]),e.mostrarMenu?t("div",{staticClass:"submenu"},[e._l(o.submenu,(function(o,i){return t("div",{key:i,on:{click:function(t){return e.enviarOpcSubmenu(o.url)}}},[e._v(" "+e._s(o.name)+" ")])})),"Usuario"==o.name?t("div",{on:{click:e.cerrarSesion}},[e._v(" Cerrar sesión ")]):e._e()],2):e._e()]):e._e()])})),0)],2)])])])},Me=[],Ae={data(){return{expandIcon:"mdi-arrow-right",mostrarMenu:!1,menuOptions:[],menuBottomsOptions:[{icon:"mdi-account",name:"Usuario",url:"/",hasSubmenus:!0,submenu:[{name:"Cambiar contraseña",url:"/opcionesUser"}]}]}},methods:{enviarOpcSubmenu(e){this.$route.path!==e&&this.$router.push(e)},cambiarEstadoMenu(){this.mostrarMenu=!this.mostrarMenu},abrirMenu(){this.mostrarMenu=!0},cerrarMenu(){this.mostrarMenu=!1},cerrarSesion(){localStorage.removeItem("userTkn"),window.location.reload()}},mounted(){P().then(function(e){this.menuOptions=e.data}.bind(this))},watch:{mostrarMenu(e){this.expandIcon=e?"mdi-arrow-left":"mdi-arrow-right"}}},Ne=Ae,ze=(0,Fe.Z)(Ne,Pe,Me,!1,null,"2723b21f",null),qe=ze.exports,Le={name:"App",data:()=>({validUser:!1}),components:{Menu:qe,Login:ye,RestorePassword:Be},methods:{validLogin(){null===localStorage.getItem("userTkn")?this.validUser=!1:D().then(function(e){if(console.log(e.data[0].status),1==e.data[0].status){if(this.validUser=!0,this.$dataUser=e.data[1].dataUser,console.log(this.$dataUser[0]),1==this.$dataUser[0].nuevo){this.$router.push({path:"/opcionesUser"}).catch((()=>{}));const e=this.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",this.$swal.stopTimer),e.addEventListener("mouseleave",this.$swal.resumeTimer)}});e.fire({icon:"alert",title:"Por su seguridad, actualice su contraseña."})}}else this.validUser=!1,localStorage.removeItem("userTkn"),window.location.reload()}.bind(this))}},mounted:function(){this.validLogin()},watch:{$route(){this.$nextTick(this.validLogin)}}},He=Le,Ke=(0,Fe.Z)(He,s,r,!1,null,null,null),je=Ke.exports,Ge=o(5205);(0,Ge.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var We=o(8345),Je=function(){var e=this,t=e._self._c;return t("FullBoxVue",{staticClass:"shadowHover"},[t("hello-world")],1)},Qe=[],Xe=function(){var e=this,t=e._self._c;return t(h.Z,[t(S.Z,{staticClass:"text-center"},[t(u.Z,{attrs:{cols:"12"}},[t(b.Z,{staticClass:"my-3",attrs:{src:o(7768),contain:"",height:"100"}})],1),t(u.Z,{staticClass:"mb-4"},[t("h1",{staticClass:"display-2 font-weight-bold mb-3"},[e._v(" ¡Bienvenido/a "+e._s(e.nombreUser)+"! ")]),t("p",{staticClass:"subheading font-weight-regular"},[e._v(" COLPRYST - Estudios de confiabilidad ")])]),t(u.Z,{staticClass:"mb-5",attrs:{cols:"12"}},[t("h2",{staticClass:"headline font-weight-bold mb-3"},[e._v(" Enlaces que le pueden interesar ")]),t(S.Z,{attrs:{justify:"center"}},e._l(e.importantLinks,(function(o,i){return t("a",{key:i,staticClass:"subheading mx-3",attrs:{href:o.href,target:"_blank"}},[e._v(" "+e._s(o.text)+" ")])})),0)],1)],1)],1)},Ye=[],et=o(6040),tt=o.n(et),ot={name:"HelloWorld",data:()=>({nombreUser:null,importantLinks:[{text:"Página principal",href:"https://www.colpryst.com/"}]}),methods:{validLogin(){null===localStorage.getItem("userTkn")?this.validUser=!1:this.nombreUser=tt().decode(localStorage.getItem("userTkn")).nombre}},mounted:function(){this.validLogin()}},it=ot,at=(0,Fe.Z)(it,Xe,Ye,!1,null,null,null),st=at.exports,rt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"box"},[e._t("default")],2)},nt=[],ct={},lt=ct,dt=(0,Fe.Z)(lt,rt,nt,!1,null,"2cf51bad",null),ut=dt.exports,ht={name:"HomeView",components:{HelloWorld:st,FullBoxVue:ut}},mt=ht,vt=(0,Fe.Z)(mt,Je,Qe,!1,null,"5cc07176",null),pt=vt.exports,bt=o(2339),ft=function(){var e=this,t=e._self._c;return"Cliente"==e.$dataUser[0].rol||"Admin"==e.$dataUser[0].rol?t("div",[t("FullBoxVue",{staticClass:"shadowHover"},[t("h1",[e._v("Nueva solicitud")]),e._v(" Los campos con un * son obligatorios ")]),"Admin"==e.$dataUser[0].rol?t("FullBoxVue",{staticClass:"shadowHover"},[t("h2",[e._v("Seleccionar usuario")]),t("searchUserVue",{attrs:{people:e.userSearch},on:{selected:e.userSearchSelectedFunc}})],1):e._e(),t("MiddleBox",{staticClass:"shadowHover"},[t(g.Z,{attrs:{label:"Centro de costos"},model:{value:e.CentroCostos,callback:function(t){e.CentroCostos=t},expression:"CentroCostos"}}),t("div",{staticClass:"formContent"},[e._l(e.schemaServicio,(function(o,i){return t("div",{key:i},[e._v(" Servicio: "+e._s(i+1)+" "),t(bt.Z,{attrs:{items:o.servicio,"item-text":"nombre","item-value":"id",label:"Servicio*"},on:{change:function(t){return e.buscarSubservicio(e.valuesServicio[i].servicio,i)}},model:{value:e.valuesServicio[i].servicio,callback:function(t){e.$set(e.valuesServicio[i],"servicio",t)},expression:"valuesServicio[index].servicio"}}),t(bt.Z,{attrs:{items:o.subservicio,"item-text":"nombre","item-value":"id",label:"SubServicio*"},model:{value:e.valuesServicio[i].subservicio,callback:function(t){e.$set(e.valuesServicio[i],"subservicio",t)},expression:"valuesServicio[index].subservicio"}})],1)})),t(c.Z,{attrs:{color:"success"},on:{click:function(t){return e.agregarServicios()}}},[e._v("Agregar servicio")]),t("br"),t("br"),t("BlitzForm",{key:e.componentKeyUbicacion,attrs:{schema:e.schemaUbicacion,gridGap:"0",labelPosition:"left"},model:{value:e.valuesUbicacion,callback:function(t){e.valuesUbicacion=t},expression:"valuesUbicacion"}})],2)],1),t("MiddleBox",{staticClass:"shadowHover"},[t("h2",[e._v("Datos del candidato")]),t("BlitzForm",{attrs:{schema:e.schemaCandidato,gridGap:"0",labelPosition:"left"},model:{value:e.valuesCandidato,callback:function(t){e.valuesCandidato=t},expression:"valuesCandidato"}}),t("input",{ref:"file",attrs:{type:"file"},on:{change:e.uploadFile}}),t("br"),t("br")],1),t("FullBoxVue",{staticClass:"shadowHover"},[""!=e.errorRequeridos?t(n.Z,{attrs:{title:"Hay errores en su formulario",type:"error"}},[t("span",{domProps:{innerHTML:e._s(e.errorRequeridos)}})]):e._e(),e.loading?t("div",[t("loadingCSS",[e._v(" Se están creando las solicitudes... "),t("br"),e._v(" Esto puede tomar unos momentos ")])],1):t("div",[t(c.Z,{attrs:{color:"primary",disabled:""!=e.errorRequeridos},on:{click:e.enviarFormulario}},[e._v(" Enviar Solicitud ")])],1)],1)],1):e._e()},St=[],gt=(o(2801),o(1295),o(3029)),Ct=function(){var e=this,t=e._self._c;return t("div",[e._m(0),t("br"),e._t("default")],2)},_t=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"lds-ring"},[t("div"),t("div"),t("div"),t("div")])}],xt={},Zt=xt,Et=(0,Fe.Z)(Zt,Ct,_t,!1,null,"c4929be2",null),wt=Et.exports,$t=o(6379),kt=o(8419),Tt=o(7414),Ft=o(3486),Rt=o(9884),yt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"box"},[e._t("default")],2)},Ut=[],Ot={},Vt=Ot,Dt=(0,Fe.Z)(Vt,yt,Ut,!1,null,"8649765a",null),It=Dt.exports,Bt=o(2936),Pt=o(4127),Mt=o(7722),At=function(){var e=this,t=e._self._c;return t("div",[t(Bt.Z,{key:e.updateKey,attrs:{disabled:e.isUpdating,items:e.peopleUpdate,color:"blue-grey lighten-2",label:"Seleccionar usuario","item-text":"nombre","item-value":"id",chips:"","closable-chips":""},scopedSlots:e._u([{key:"selection",fn:function(o){return[t(Pt.Z,e._b({attrs:{"input-value":o.selected,close:""},on:{click:o.select,"click:close":function(t){return e.remove(o.item)}}},"v-chip",o.attrs,!1),[e._v(" "+e._s(o.item.nombre)+" ")])]}},{key:"item",fn:function(o){return["object"!==typeof o.item?[t(Mt.km,{domProps:{textContent:e._s(o.item)}})]:[t(Mt.km,[t(Mt.V9,{domProps:{innerHTML:e._s(o.item.nombre)}})],1)]]}}]),model:{value:e.selectedUpdate,callback:function(t){e.selectedUpdate=t},expression:"selectedUpdate"}})],1)},Nt=[],zt={data(){return{autoUpdate:!0,isUpdating:!1,name:"Midnight Crew",title:"The summer breeze",peopleUpdate:[],selectedUpdate:[],updateKey:0}},props:{people:Array},watch:{isUpdating(e){e&&(this.timeout=setTimeout((()=>this.isUpdating=!1),3e3))},people(e){this.updateKey++,this.peopleUpdate=e},selectedUpdate(e){this.$emit("selected",e)}},mounted(){this.peopleUpdate=this.people},methods:{remove(e){const t=this.selectedUpdate.indexOf(e.nombre);t>=0&&(this.selectedUpdate="")}}},qt=zt,Lt=(0,Fe.Z)(qt,At,Nt,!1,null,null,null),Ht=Lt.exports;i.ZP.component("VTextField",g.Z),i.ZP.component("VRadioGroup",$t.Z),i.ZP.component("VRadio",kt.Z),i.ZP.component("VSlider",Tt.Z),i.ZP.component("VCheckbox",Ft.Z),i.ZP.component("VSwitch",Rt.Z),i.ZP.component("VSelect",bt.Z);const Kt={servicio:"",subservicio:""};var jt={data(){return{valuesServicio:[],CentroCostos:"",schemaServicio:[],valuesUbicacion:{departamento:"",ciudad:""},schemaUbicacion:[],componentKey:0,componentKeyUbicacion:-1,valuesCandidato:{nombreCandidato:"",tipodocumento:"",documento:"",numeroCandidato:"",correo:"",direccion:"",observaciones:""},schemaCandidato:[],Images:null,datosUser:{},userSearch:[],userSearchSelected:[],serviciosDefault:[],loading:!1,errorRequeridos:""}},methods:{userSearchSelectedFunc(e){this.userSearchSelected=e},recargarFormulario(){this.componentKey+=1,this.componentKeyUbicacion-=1},validarForm(e,t){let o=!0;for(let i=0;i<e.length;i++){let a=e[i];a.isRequired&&(""!=t[a.id]&&null!==t[a.id]&&0!==t[a.id].length||(""==this.errorRequeridos?this.errorRequeridos=" El campo "+a.label+" es requerido <br>":this.errorRequeridos+=" El campo "+a.label+" es requerido <br>",o=!1))}return o},validarServicios(){let e=this.valuesServicio,t=!0;for(let o=0;o<e.length;o++)""!=e[o].servicio&&null!==e[o].servicio&&0!==e[o].servicio.length&&""!=e[o].subservicio&&null!==e[o].subservicio&&0!==e[o].subservicio.length||(""==this.errorRequeridos?this.errorRequeridos=" Campos del servicio "+(o+1)+" están incompletos <br>":this.errorRequeridos+=" Campos del servicio "+(o+1)+" están incompletos <br>",t=!1);return t},validarFormularios(){this.errorRequeridos="",console.log("Servicio: "),console.log(this.validarServicios()),console.log("Ubicación: "),console.log(this.validarForm(this.schemaUbicacion,this.valuesUbicacion)),console.log("Candidato: "),console.log(this.validarForm(this.schemaCandidato,this.valuesCandidato))},uploadFile(){this.Images=this.$refs.file.files[0]},enviarFormulario(){this.loading=!0;const e=new FormData;e.append("file",this.Images),e.append("CentroCostos",this.CentroCostos),e.append("InfoServicio",JSON.stringify(this.valuesServicio)),e.append("Ubicacion",JSON.stringify(this.valuesUbicacion)),e.append("Candidato",JSON.stringify(this.valuesUbicacion)),"Admin"==this.$dataUser[0].rol&&e.append("Usuario",JSON.stringify(this.userSearchSelected)),se(e).then(function(e){console.log(e.data);const t=this.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",this.$swal.stopTimer),e.addEventListener("mouseleave",this.$swal.resumeTimer)}});t.fire({icon:"success",title:"Solicitud enviada exitosamente"}),this.loading=!1,this.recargarFormulario()}.bind(this)),console.log(e)},agregarServicios(){this.schemaServicio.push(structuredClone({servicio:this.serviciosDefault,subservicio:[]})),this.valuesServicio.push(structuredClone(Kt))},consultaServicio(e){Y().then(function(e){this.preServicios=e.data,console.log(this.preServicios),this.serviciosDefault=[];for(let t=0;t<this.preServicios.length;t++)console.log(this.preServicios[t]),this.serviciosDefault.push({id:this.preServicios[t].ID_SERVICIO,nombre:this.preServicios[t].NOMBRE_SERVICIO});this.agregarServicios(),this.recargarFormulario()}.bind(this))},buscarSubservicio(e,t){this.valuesServicio[t].subservicio="",ee(e).then(function(e){if(e.data.length>0){let o=e.data,i=[];for(let e=0;e<o.length;e++)i.push({id:o[e].ID_SUBSERVICIO,nombre:o[e].NOMBRE_SUBSERVICIO});this.schemaServicio[t].subservicio=i,this.recargarFormulario()}}.bind(this))},consultaServicioEspecifico(e){oe(e).then(function(e){const t=3;if(e.data.length>0){const o={value:"",text:"Seleccione el Servicio Específico",disabled:!0},i=[o];for(let t=0;t<e.data.length;t++){const o={value:"",text:""},a=o;o.value=e.data[t].ID_SERVICIO_ESPECIFICO,a.text=e.data[t].NOMBRE_SERVICIO_ESPECIFICO,i.push(a)}null==this.schemaServicio[t]?this.schemaServicio.splice(t,0,{id:"servicioEspecifico",span:!0,component:"VSelect",label:"Servicio Específico*",items:i,isRequired:!0}):(this.schemaServicio[t]={id:"servicioEspecifico",span:!0,component:"VSelect",label:"Servicio Específico*",items:i,isRequired:!0},this.recargarFormulario())}else this.schemaServicio.splice(t,1)}.bind(this))},consultaServicioEspecificoEspecifico(e){ie(e).then(function(e){const t=4;if(console.log(e.data),e.data.length>0){const o={value:"",text:"Seleccione el Servicio Específico",disabled:!0},i=[o];for(let t=0;t<e.data.length;t++){const o={value:"",text:""},a=o;o.value=e.data[t].ID_SERVICIO_ESPECIFICO2,a.text=e.data[t].NOMBRE_SERVICIO_ESPECIFICO2,i.push(a)}null==this.schemaServicio[t]?this.schemaServicio.splice(t,0,{id:"servicioEspecificoEspecifico",span:!0,component:"VSelect",label:"Servicio Específico*",items:i,isRequired:!0}):(this.schemaServicio[t]={id:"servicioEspecificoEspecifico",span:!0,component:"VSelect",label:"Servicio Específico*",items:i,isRequired:!0},this.recargarFormulario())}else this.schemaServicio.splice(t,1)}.bind(this))},consultaCiudad(e){X(e).then(function(e){const t=1;if(e.data.length>0){const o={value:"",text:"Seleccione la ciudad",disabled:!0},i=[o];for(let t=0;t<e.data.length;t++){const o={value:"",text:""},a=o;o.value=e.data[t].ID_CIUDAD,a.text=e.data[t].NOMBRE_CIUDAD,i.push(a)}null==this.schemaUbicacion[t]?this.schemaUbicacion.splice(t,0,{id:"ciudad",span:!0,component:"VSelect",label:"Ciudad*",items:i,isRequired:!0}):this.schemaUbicacion[t]={id:"ciudad",span:!0,component:"VSelect",label:"Ciudad*",items:i,isRequired:!0}}else this.schemaUbicacion.splice(t,1);this.recargarFormulario(),this.validarFormularios()}.bind(this))}},mounted(){q().then(function(e){this.userSearch=e.data}.bind(this)),this.consultaServicio(0),Q().then(function(e){const t=0,o={value:"",text:"Seleccione el departamento",disabled:!0},i=[o];for(let a=0;a<e.data.length;a++){const t={value:"",text:""},o=t;t.value=e.data[a].ID_DEPARTAMENTO,o.text=e.data[a].NOMBRE_DEPARTAMENTO,i.push(o)}null==this.schemaUbicacion[t]?this.schemaUbicacion.splice(t,0,{id:"departamento",span:!0,component:"VSelect",label:"Departamento*",items:i,isRequired:!0}):this.schemaUbicacion[t]={id:"departamento",span:!0,component:"VSelect",label:"Departamento*",items:i,isRequired:!0},this.recargarFormulario()}.bind(this)),ae().then(function(e){console.log(e.data);const t={value:"",text:"Seleccionar tipo de documento",disabled:!0},o=[t];for(let a=0;a<e.data.length;a++){const t={value:"",text:""},i=t;t.value=e.data[a].ID_TIPO_DOCUMENTO,i.text=e.data[a].DESC_COMPLE_TIPO_DOCUMENTOcol,o.push(i)}const i={id:"tipodocumento",span:!0,component:"VSelect",label:"Tipo de documento*",items:o,isRequired:!0};this.schemaCandidato=[{id:"nombreCandidato",component:"VTextField",label:"Nombre del candidato*",isRequired:!0},i,{id:"documento",component:"VTextField",label:"Número de documento*",isRequired:!0},{id:"numeroCandidato",component:"VTextField",label:"Número telefónico*",isRequired:!0},{id:"correo",component:"VTextField",label:"Correo*",isRequired:!0},{id:"direccion",component:"VTextField",label:"Dirección*",isRequired:!0},{id:"observaciones",component:"VTextField",label:"Observaciones"}],this.recargarFormulario()}.bind(this))},watch:{valuesUbicacion(e,t){e.departamento&&e.departamento!=t.departamento&&(this.valuesUbicacion.ciudad="",this.consultaCiudad(e.departamento)),this.validarFormularios()},valuesServicio:{handler(e){this.validarFormularios()},deep:!0},valuesCandidato(e,t){this.validarFormularios()}},components:{FullBoxVue:ut,BlitzForm:gt.lU,MiddleBox:It,searchUserVue:Ht,loadingCSS:wt}},Gt=jt,Wt=(0,Fe.Z)(Gt,ft,St,!1,null,"21d9ccd6",null),Jt=Wt.exports,Qt=o(9570),Xt=o(1030),Yt=o(4528),eo=o(3687),to=function(){var e=this,t=e._self._c;return t("FullBoxVue",{staticClass:"shadowHover"},[t("div",{staticClass:"formContent"},[t("h1",[e._v("Registrar Usuario")]),t("br"),t("hr"),t("br"),t("br"),t("BlitzForm",{key:e.componentKey,attrs:{schema:e.schemaRegister,gridGap:"0",labelPosition:"left"},model:{value:e.valuesRegister,callback:function(t){e.valuesRegister=t},expression:"valuesRegister"}}),"7"==e.valuesRegister.rol||"5"==e.valuesRegister.rol||"6"==e.valuesRegister.rol?t(bt.Z,{attrs:{items:e.serviciosDefault,"item-text":"nombre","item-value":"id",label:"Servicios disponibles",multiple:""},model:{value:e.valuesRegister.serviciosAsociados,callback:function(t){e.$set(e.valuesRegister,"serviciosAsociados",t)},expression:"valuesRegister.serviciosAsociados"}}):e._e(),"8"==e.valuesRegister.rol?t("searchUserMultipleVue",{attrs:{people:e.userSearch},on:{selected:e.userSearchSelectedFunc}}):e._e(),t(Yt.Z,{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.valuesRegister.fechaCorte,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){return e.$set(e.valuesRegister,"fechaCorte",t)},"update:return-value":function(t){return e.$set(e.valuesRegister,"fechaCorte",t)}},scopedSlots:e._u([{key:"activator",fn:function({on:o,attrs:i}){return[t(Qt.Z,e._g(e._b({attrs:{chips:"","small-chips":"",label:"Fecha de corte","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.valuesRegister.fechaCorte,callback:function(t){e.$set(e.valuesRegister,"fechaCorte",t)},expression:"valuesRegister.fechaCorte"}},"v-combobox",i,!1),o))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[t(Xt.Z,{attrs:{"no-title":"",scrollable:""},model:{value:e.valuesRegister.fechaCorte,callback:function(t){e.$set(e.valuesRegister,"fechaCorte",t)},expression:"valuesRegister.fechaCorte"}},[t(eo.Z),t(c.Z,{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v(" Cancelar ")]),t(c.Z,{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu.save(e.valuesRegister.fechaCorte)}}},[e._v(" OK ")])],1)],1),t(c.Z,{attrs:{color:"primary",dark:""},on:{click:e.enviarFormulario}},[e._v(" Enviar ")])],1)])},oo=[],io=function(){var e=this,t=e._self._c;return t("div",[t(Bt.Z,{key:e.updateKey,attrs:{disabled:e.isUpdating,items:e.peopleUpdate,color:"blue-grey lighten-2",label:"Seleccionar usuarios","item-text":"nombre","item-value":"id",chips:"","closable-chips":"",multiple:""},scopedSlots:e._u([{key:"selection",fn:function(o){return[t(Pt.Z,e._b({attrs:{"input-value":o.selected,close:""},on:{click:o.select,"click:close":function(t){return e.remove(o.item)}}},"v-chip",o.attrs,!1),[e._v(" "+e._s(o.item.nombre)+" ")])]}},{key:"item",fn:function(o){return["object"!==typeof o.item?[t(Mt.km,{domProps:{textContent:e._s(o.item)}})]:[t(Mt.km,[t(Mt.V9,{domProps:{innerHTML:e._s(o.item.nombre)}})],1)]]}}]),model:{value:e.selectedUpdate,callback:function(t){e.selectedUpdate=t},expression:"selectedUpdate"}})],1)},ao=[],so={data(){return{autoUpdate:!0,isUpdating:!1,name:"Midnight Crew",title:"The summer breeze",peopleUpdate:[],selectedUpdate:[],updateKey:0}},props:{people:Array},watch:{isUpdating(e){e&&(this.timeout=setTimeout((()=>this.isUpdating=!1),3e3))},people(e){this.updateKey++,this.peopleUpdate=e},selectedUpdate(e){this.$emit("selected",e)}},mounted(){this.peopleUpdate=this.people},methods:{remove(e){console.log(e);const t=this.selectedUpdate.indexOf(e.id);t>=0&&this.selectedUpdate.splice(t,1)}}},ro=so,no=(0,Fe.Z)(ro,io,ao,!1,null,null,null),co=no.exports;i.ZP.component("VTextField",g.Z),i.ZP.component("VRadioGroup",$t.Z),i.ZP.component("VRadio",kt.Z),i.ZP.component("VSlider",Tt.Z),i.ZP.component("VCheckbox",Ft.Z),i.ZP.component("VSwitch",Rt.Z),i.ZP.component("VSelect",bt.Z);const lo={nombre:"",tipoDocumento:"",contacto:"",correo:"",documento:"",rol:"",serviciosAsociados:"",fechaCorte:""};var uo={data(){return{valuesRegister:{nombre:"",tipoDocumento:"",contacto:"",correo:"",documento:"",rol:"",serviciosAsociados:"",fechaCorte:"",userSearchSelected:[]},menu:!1,serviciosDefault:[],schemaRegister:[{id:"nombre",component:"VTextField",label:"Nombre"},{},{id:"documento",component:"VTextField",label:"Documento"},{id:"contacto",component:"VTextField",label:"Teléfono"},{id:"correo",component:"VTextField",label:"Correo"},{id:"empresa",component:"VTextField",label:"Nombre empresa"},{}],componentKey:0,userSearch:[]}},methods:{userSearchSelectedFunc(e){this.valuesRegister.userSearchSelected=e},recargarFormulario(){this.componentKey+=1},enviarFormulario(){R(this.valuesRegister).then(function(e){console.log(e);const t=this.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",this.$swal.stopTimer),e.addEventListener("mouseleave",this.$swal.resumeTimer)}});""==e.data?(t.fire({icon:"success",title:"Usuario registrado exitosamente"}),this.valuesRegister=lo,this.recargarFormulario()):t.fire({icon:"error",title:"Error al registrar el usuario, correo no válido y/o ya usado."})}.bind(this)).catch((function(e){const t=this.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",this.$swal.stopTimer),e.addEventListener("mouseleave",this.$swal.resumeTimer)}});t.fire({icon:"error",title:"Error al registrar el usuario, correo no válido y/o ya usado."})}))},consultaServicio(){Y().then(function(e){this.preServicios=e.data,this.serviciosDefault=[];for(let t=0;t<this.preServicios.length;t++)console.log(this.preServicios[t]),this.serviciosDefault.push({id:this.preServicios[t].ID_SERVICIO,nombre:this.preServicios[t].NOMBRE_SERVICIO})}.bind(this))}},mounted(){q().then(function(e){this.userSearch=e.data}.bind(this)),ae().then(function(e){const t=1,o={value:"",text:"Seleccionar tipo de documento",disabled:!0},i=[o];for(let a=0;a<e.data.length;a++){const t={value:"",text:""},o=t;t.value=e.data[a].ID_TIPO_DOCUMENTO,o.text=e.data[a].DESC_TIPO_DOCUMENTO,i.push(o)}this.schemaRegister[t]={id:"tipoDocumento",span:!0,component:"VSelect",label:"Tipo de documento",items:i},this.recargarFormulario()}.bind(this)),B().then(function(e){const t=7,o={value:"",text:"Seleccione un rol",disabled:!0},i=[o];for(let a=0;a<e.data.length;a++){const t={value:"",text:""},o=t;t.value=e.data[a].id,o.text=e.data[a].nombre,i.push(o)}this.schemaRegister[t]={id:"rol",span:!0,component:"VSelect",label:"Rol",items:i},this.recargarFormulario()}.bind(this)),this.consultaServicio()},watch:{valuesRegister(e,t){this.valuesRegister.fechaCorte=t.fechaCorte,this.valuesRegister.serviciosAsociados=t.serviciosAsociados,this.valuesRegister.userSearchSelected=t.userSearchSelected}},components:{FullBoxVue:ut,BlitzForm:gt.lU,searchUserMultipleVue:co}},ho=uo,mo=(0,Fe.Z)(ho,to,oo,!1,null,null,null),vo=mo.exports,po=o(2374),bo=function(){var e=this,t=e._self._c;return t("FullBoxVue",{staticClass:"shadowHover"},[t("h1",[e._v("Ver solicitudes")]),t("br"),t(l.Z,[t(d.EB,[t(g.Z,{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t(po.Z,{attrs:{headers:e.headers,items:e.peticiones,search:e.search},on:{"click:row":e.seleccionarPeticion}})],1)],1)},fo=[],So={data(){return{search:"",headers:[{text:"Id",value:"id"},{text:"Nombre Servicio",value:"NOMBRE_SERVICIO"},{text:"Nombre SubServicio",value:"NOMBRE_SUBSERVICIO"},{text:"Nombre Empresa",value:"nombreEmpresa"},{text:"Nombre Cliente",value:"nombreCliente"},{text:"Nombre Ciudad",value:"NOMBRE_CIUDAD"},{text:"Nombre Departamento",value:"NOMBRE_DEPARTAMENTO"},{text:"Fecha Creación",value:"fechaCreacion"},{text:"Estado",value:"estado"}],peticiones:[],idSolicitudSeleccionada:{},infoSolicitudRef:null}},components:{FullBoxVue:ut},methods:{seleccionarPeticion(e){this.idSolicitudSeleccionada=e,this.$router.push({path:"/peticion/"+this.idSolicitudSeleccionada.id}).catch((()=>{}))}},mounted(){re().then(function(e){console.log(e.data),this.peticiones=e.data}.bind(this))}},go=So,Co=(0,Fe.Z)(go,bo,fo,!1,null,null,null),_o=Co.exports,xo=o(2648),Zo=function(){var e=this,t=e._self._c;return e.valido?t("div",{key:e.componentKey},[t("FullBoxVue",{staticClass:"shadowHover"},[t("h1",[e._v("Solicitud "+e._s(e.$route.params.id))])]),"Admin"==e.$dataUser[0].rol||e.infoSolicitud.coordinador==e.$dataUser[0].id?t("FullBoxVue",{staticClass:"shadowHover"},[e._v(" Encargado(s) actual: "+e._s(e.infoSolicitud.encargados)+" "),t("h2",[e._v("Seleccionar analista/proveedor")]),t("searchUserMultipleVue",{attrs:{people:e.userSearch},on:{selected:e.userSearchSelectedFunc}}),t(c.Z,{attrs:{color:"success"},on:{click:function(t){return e.actualizarEncargado()}}},[e._v("Actualizar analista/proveedor")]),t("br"),t("br"),t("h2",[e._v("Cambiar estado solicitud")]),t(bt.Z,{attrs:{items:e.estados,"item-text":"nombre","item-value":"id",label:"Estado"},model:{value:e.estadoSolicitud,callback:function(t){e.estadoSolicitud=t},expression:"estadoSolicitud"}}),t(c.Z,{attrs:{color:"success"},on:{click:function(t){return e.actualizarEstadoSolicitud()}}},[e._v("Actualizar Estado de solicitud")])],1):e._e(),t("FullBoxVue",{staticClass:"shadowHover"},[t("div",[t(xo.Z,{attrs:{label:"Observaciones"},model:{value:e.observacionesAnalistaProveedor,callback:function(t){e.observacionesAnalistaProveedor=t},expression:"observacionesAnalistaProveedor"}}),t(c.Z,{attrs:{color:"success"},on:{click:function(t){return e.actualizarObservacionesAnalistaProveedor()}}},[e._v("Agregar observación")]),t("br"),t("br"),t("br")],1)]),3==e.$dataUser[0].idRol||e.infoSolicitud.idEncargado==e.$dataUser[0].id||e.infoSolicitud.encargado==e.$dataUser[0].id||"Finalizada"==e.infoSolicitud.estado?t("FullBoxVue",{staticClass:"shadowHover"},[3==e.$dataUser[0].idRol||e.infoSolicitud.encargado==e.$dataUser[0].id?t("div",[t("h2",[e._v("Subir archivo nuevo")]),t("input",{ref:"file",attrs:{type:"file"},on:{change:e.uploadFile}}),e._v("   "),t(c.Z,{attrs:{color:"success"},on:{click:function(t){return e.subirArchivo()}}},[e._v("Subir archivo")])],1):e._e(),t("br"),t("br"),t(h.Z,[t("h2",[e._v("Archivos subidos por colaboradores")]),e._v(" Pulse encima del archivo para descargar "),t("br"),t("br"),t(S.Z,{attrs:{dense:""}},e._l(e.archivosSubidos,(function(o,i){return t(u.Z,{key:i},[t(l.Z,{staticClass:"archivo shadowHover"},[o.idSubidoPor==e.$dataUser[0].id||3==e.$dataUser[0].idRol?t(c.Z,{attrs:{color:"pink",fab:"",dark:"",small:"",absolute:"",top:"",left:""},on:{click:function(t){return e.eliminarArchivo(o.id)}}},[t(p.Z,[e._v("mdi-close")])],1):e._e(),t("div",{on:{click:function(t){return e.descargarArchivos(o.archivo,o.nombreArchivo)}}},[t(p.Z,{attrs:{size:"100px"}},[e._v(" mdi-file-chart ")]),t("br"),e._v(" "+e._s(o.nombreArchivo)+" "),t("br"),t("h6",[e._v("Fecha subida: "+e._s(o.creado))]),t("h6",[e._v("Subido por: "+e._s(o.subidoPor))]),""!=o.comentarios?t("h6",[e._v("Observaciones: "+e._s(o.comentarios))]):e._e(),""!=o.observaciones?t("h6",[e._v("Archivo Requerido: "+e._s(o.observaciones))]):e._e()],1)],1)],1)})),1)],1)],1):e._e(),t("FullBoxVue",[t("h2",[e._v("Observaciones")]),e._l(e.queryResultObservacionesAnalistaProveedor,(function(o,i){return t("div",{key:i,staticClass:"chat-bubble"},[t("p",{staticClass:"message"},[e._v(e._s(o.contenido))]),t("span",{staticClass:"date"},[e._v(e._s(o.subido))]),o.subidoPor==e.$dataUser[0].id||3==e.$dataUser[0].idRol?t("button",{staticClass:"delete-btn",on:{click:function(t){return e.eliminarObservacion(o.id)}}},[e._v(" Eliminar ")]):e._e()])}))],2),t("MiddleBox",{staticClass:"shadowHover"},[t(v.Z,[t(h.Z,[t(S.Z,[t(u.Z,{attrs:{cols:"12",sm:"12"}},[t(g.Z,{attrs:{label:"Id",readonly:"",filled:""},model:{value:e.infoSolicitud.id,callback:function(t){e.$set(e.infoSolicitud,"id",t)},expression:"infoSolicitud.id"}})],1),t(u.Z,{attrs:{cols:"12",sm:"12"}},[t(g.Z,{attrs:{label:"Centro de costos",readonly:"",filled:""},model:{value:e.infoSolicitud.CentroCostos,callback:function(t){e.$set(e.infoSolicitud,"CentroCostos",t)},expression:"infoSolicitud.CentroCostos"}})],1),t(u.Z,{attrs:{cols:"12",sm:"12"}},[t(g.Z,{attrs:{value:e.infoSolicitud.NOMBRE_SERVICIO,label:"Nombre servicio",readonly:"",filled:""}})],1),t(u.Z,{attrs:{cols:"12",sm:"12"}},[t(g.Z,{attrs:{value:e.infoSolicitud.NOMBRE_SUBSERVICIO,label:"Nombre subservicio",readonly:"",filled:""}})],1),t(u.Z,{attrs:{cols:"12",sm:"12"}},[t(g.Z,{attrs:{value:e.infoSolicitud.NOMBRE_CIUDAD,label:"Nombre ciudad",readonly:"",filled:""}})],1),t(u.Z,{attrs:{cols:"12",sm:"12"}},[t(g.Z,{attrs:{value:e.infoSolicitud.NOMBRE_DEPARTAMENTO,label:"Nombre departamento",readonly:"",filled:""}})],1),t(u.Z,{attrs:{cols:"12",sm:"12"}},[t(g.Z,{attrs:{value:e.infoSolicitud.nombreCliente,label:"Nombre cliente",readonly:"",filled:""}})],1),t(u.Z,{attrs:{cols:"12",sm:"12"}},[t(g.Z,{attrs:{value:e.infoSolicitud.nombreEmpresa,label:"Nombre empresa",readonly:"",filled:""}})],1),t(u.Z,{attrs:{cols:"12",sm:"12"}},[t(g.Z,{attrs:{value:e.infoSolicitud.estado,label:"Estado de la solicitud",readonly:"",filled:""}})],1)],1)],1)],1)],1),t("MiddleBox",{staticClass:"shadowHover"},[t("h2",[e._v("Candidato(s)")]),e._l(e.infoSolicitudCandidatos,(function(o,i){return t(v.Z,{key:i},[t(h.Z,[t(S.Z,[t(u.Z,{attrs:{cols:"12",sm:"12"}},[t(g.Z,{attrs:{label:"Nombre candidato",readonly:"",filled:""},model:{value:o.nombreCandidato,callback:function(t){e.$set(o,"nombreCandidato",t)},expression:"candidato.nombreCandidato"}})],1),t(u.Z,{attrs:{cols:"12",sm:"12"}},[t(g.Z,{attrs:{label:"Tipo documento",readonly:"",filled:""},model:{value:o.tipo_doc,callback:function(t){e.$set(o,"tipo_doc",t)},expression:"candidato.tipo_doc"}})],1),t(u.Z,{attrs:{cols:"12",sm:"12"}},[t(g.Z,{attrs:{label:"Número de documento",readonly:"",filled:""},model:{value:o.num_doc,callback:function(t){e.$set(o,"num_doc",t)},expression:"candidato.num_doc"}})],1),t(u.Z,{attrs:{cols:"12",sm:"12"}},[t(g.Z,{attrs:{label:"Número telefónico",readonly:"",filled:""},model:{value:o.numTelefonico,callback:function(t){e.$set(o,"numTelefonico",t)},expression:"candidato.numTelefonico"}})],1),t(u.Z,{attrs:{cols:"12",sm:"12"}},[t(g.Z,{attrs:{label:"Correo",readonly:"",filled:""},model:{value:o.correo,callback:function(t){e.$set(o,"correo",t)},expression:"candidato.correo"}})],1),t(u.Z,{attrs:{cols:"12",sm:"12"}},[t(g.Z,{attrs:{label:"Dirección",readonly:"",filled:""},model:{value:o.direccion,callback:function(t){e.$set(o,"direccion",t)},expression:"candidato.direccion"}})],1),t(u.Z,{attrs:{cols:"12",sm:"12"}},[t(g.Z,{attrs:{label:"Observaciones",readonly:"",filled:""},model:{value:o.observaciones,callback:function(t){e.$set(o,"observaciones",t)},expression:"candidato.observaciones"}})],1),""!=o.archivo&&null!=o.archivo?t(u.Z,{attrs:{cols:"12",sm:"12"}},[t(c.Z,{attrs:{color:"success"},on:{click:function(t){return e.descargarArchivos(o.archivo,o.nombreArchivo)}}},[e._v("Descargar archivo adjunto")])],1):t(u.Z,{attrs:{cols:"12",sm:"12"}},[e._v(" Este candidato no cuenta con archivos ")])],1)],1)],1)}))],2)],1):e._e()},Eo=[],wo={data(){return{infoSolicitud:{},infoSolicitudCandidatos:{},componentKey:1,estadoSolicitud:null,estados:null,idSolicitud:this.$route.params.id,archivosSubidos:[],Images:null,valido:!1,userSearchSelected:[],userSearch:[],observacionesAnalistaProveedor:"",queryResultObservacionesAnalistaProveedor:[]}},components:{FullBoxVue:ut,MiddleBox:It,searchUserMultipleVue:co},methods:{actualizarEncargado(){let e={idEncargado:this.userSearchSelected,idSolicitud:this.idSolicitud};H(e).then(function(e){const t=this.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",this.$swal.stopTimer),e.addEventListener("mouseleave",this.$swal.resumeTimer)}});t.fire({icon:"success",title:"Solicitud enviada exitosamente"})}.bind(this))},queryObservacionesAnalistaProveedor(){G(this.idSolicitud).then(function(e){this.queryResultObservacionesAnalistaProveedor=e.data}.bind(this))},eliminarObservacion(e){W(e).then(function(e){this.queryObservacionesAnalistaProveedor()}.bind(this))},actualizarObservacionesAnalistaProveedor(){let e={observacionesAnalistaProveedor:this.observacionesAnalistaProveedor,idSolicitud:this.idSolicitud};K(e).then(function(e){const t=this.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",this.$swal.stopTimer),e.addEventListener("mouseleave",this.$swal.resumeTimer)}});t.fire({icon:"success",title:"Solicitud enviada exitosamente"}),this.observacionesAnalistaProveedor="",this.queryObservacionesAnalistaProveedor()}.bind(this))},actualizarEstadoSolicitud(){let e={idEstado:this.estadoSolicitud,idSolicitud:this.idSolicitud};J(e).then(function(e){const t=this.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",this.$swal.stopTimer),e.addEventListener("mouseleave",this.$swal.resumeTimer)}});t.fire({icon:"success",title:"Solicitud enviada exitosamente"})}.bind(this))},userSearchSelectedFunc(e){this.userSearchSelected=e},uploadFile(){this.Images=this.$refs.file.files[0],console.log(this.Images)},eliminarArchivo(e){de(e).then(function(e){console.log(e.data),this.realizarConsultaArchivos()}.bind(this))},realizarConsulta(){ne(this.idSolicitud).then(function(e){this.infoSolicitud=e.data,this.observacionesAnalistaProveedor=e.data.observaciones,this.estadoSolicitud=this.infoSolicitud.idEstado,this.componentKey+=1,L(this.infoSolicitud.ID_SERVICIO).then(function(e){let t=[];for(let o in e.data)t.push({id:e.data[o].id,nombre:e.data[o].nombre+" - "+e.data[o].solicitudesAsignadas+" solicitudes asignadas"}),console.log(e.data[o]);this.userSearch=t}.bind(this))}.bind(this))},realizarConsultaEstados(){M().then(function(e){this.estados=e.data}.bind(this))},realizarConsultaCandidatos(){xe(this.idSolicitud).then(function(e){this.infoSolicitudCandidatos=e.data,this.componentKey+=1}.bind(this))},realizarConsultaArchivos(){ce(this.idSolicitud).then(function(e){this.archivosSubidos=e.data}.bind(this))},subirArchivo(){const e=new FormData;e.append("file",this.Images),e.append("idSolicitud",this.idSolicitud),le(e).then(function(e){const t=this.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",this.$swal.stopTimer),e.addEventListener("mouseleave",this.$swal.resumeTimer)}});t.fire({icon:"success",title:"Solicitud enviada exitosamente"}),this.realizarConsultaArchivos()}.bind(this))},descargarArchivos(e,t){Ze(e).then((e=>{const o=window.URL.createObjectURL(new Blob([e.data])),i=document.createElement("a");i.href=o,i.setAttribute("download",t),document.body.appendChild(i),i.click()}))}},mounted(){this.realizarConsulta(),this.queryObservacionesAnalistaProveedor()},watch:{infoSolicitud(e){e!={}&&(this.valido=!0,this.realizarConsultaCandidatos(),this.realizarConsultaArchivos(),this.realizarConsultaEstados())}}},$o=wo,ko=(0,Fe.Z)($o,Zo,Eo,!1,null,null,null),To=ko.exports,Fo=function(){var e=this,t=e._self._c;return t("div",{key:e.componentKey},[t("FullBoxVue",{staticClass:"shadowHover"},[t("h1",[e._v("Descargar informes")])]),t("MiddleBox",{staticClass:"shadowHover"},[t("h3",[e._v("Parámetros de descarga")]),t(v.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[e._v(" Solicitudes de usuarios "),t(Ft.Z,{attrs:{label:"Obtener información de todos los usuarios disponibles"},on:{change:function(t){return e.changeForm()}},model:{value:e.buscarTodosUsuarios,callback:function(t){e.buscarTodosUsuarios=t},expression:"buscarTodosUsuarios"}}),e.buscarTodosUsuarios?e._e():t("searchUserMultipleVue",{attrs:{people:e.userSearch},on:{selected:e.userSearchSelectedFunc,change:function(t){return e.changeForm()}}}),t(Ft.Z,{attrs:{label:"Buscar por todas las fechas"},on:{change:function(t){return e.changeForm()}},model:{value:e.buscarTodasFechas,callback:function(t){e.buscarTodasFechas=t},expression:"buscarTodasFechas"}}),e.buscarTodasFechas?e._e():t("div",[t(Xt.Z,{attrs:{range:""},on:{change:function(t){return e.changeForm()}},model:{value:e.rangoFechas,callback:function(t){e.rangoFechas=t},expression:"rangoFechas"}})],1),t(Ft.Z,{attrs:{label:"Buscar por todos los estados de solicitudes"},on:{change:function(t){return e.changeForm()}},model:{value:e.buscarTodasSolicitud,callback:function(t){e.buscarTodasSolicitud=t},expression:"buscarTodasSolicitud"}}),e.buscarTodasSolicitud?e._e():t(bt.Z,{attrs:{items:e.estados,"item-text":"nombre","item-value":"id",label:"Estado"},on:{change:function(t){return e.changeForm()}},model:{value:e.estadoSolicitud,callback:function(t){e.estadoSolicitud=t},expression:"estadoSolicitud"}}),t(Ft.Z,{attrs:{label:"Buscar por todos los departamentos"},on:{change:function(t){return e.changeForm()}},model:{value:e.buscarTodosDepartamentos,callback:function(t){e.buscarTodosDepartamentos=t},expression:"buscarTodosDepartamentos"}}),e.buscarTodosDepartamentos?e._e():t("BlitzForm",{attrs:{schema:e.schemaUbicacion,gridGap:"0",labelPosition:"left"},model:{value:e.valuesUbicacion,callback:function(t){e.valuesUbicacion=t},expression:"valuesUbicacion"}}),t(Ft.Z,{attrs:{label:"Buscar por todos los candidatos"},on:{change:function(t){return e.changeForm()}},model:{value:e.buscarTodosCandidatos,callback:function(t){e.buscarTodosCandidatos=t},expression:"buscarTodosCandidatos"}}),e.buscarTodosCandidatos?e._e():t("searchUserMultipleVue",{attrs:{people:e.candidatoSearch},on:{selected:e.candidatoSearchSelectedFunc}}),"Admin"==e.$dataUser[0].rol?t("div",[t(Ft.Z,{attrs:{label:"Buscar por todos los coordinadores"},on:{change:function(t){return e.changeForm()}},model:{value:e.buscarTodosCoordinadores,callback:function(t){e.buscarTodosCoordinadores=t},expression:"buscarTodosCoordinadores"}}),e.buscarTodosCoordinadores?e._e():t("searchUserMultipleVue",{attrs:{people:e.coordinadoresSearch},on:{selected:e.coordinadoresSearchSelectedFunc}}),t(Ft.Z,{attrs:{label:"Buscar por todos los funcionarios"},on:{change:function(t){return e.changeForm()}},model:{value:e.buscarTodosFuncionarios,callback:function(t){e.buscarTodosFuncionarios=t},expression:"buscarTodosFuncionarios"}}),e.buscarTodosFuncionarios?e._e():t("searchUserMultipleVue",{attrs:{people:e.funcionarioSearch},on:{selected:e.funcionarioSearchSelectedFunc}})],1):e._e(),t(Ft.Z,{attrs:{label:"Buscar por todos los días transcurridos"},on:{change:function(t){return e.changeForm()}},model:{value:e.buscarDiasTranscurridos,callback:function(t){e.buscarDiasTranscurridos=t},expression:"buscarDiasTranscurridos"}}),e.buscarDiasTranscurridos?e._e():t(g.Z,{attrs:{label:"Número de días transcurridos",type:"number"},model:{value:e.diasTranscurridos,callback:function(t){e.diasTranscurridos=t},expression:"diasTranscurridos"}})],1)],1),!e.loadingTable&&e.peticiones.length>0&&Array.isArray(e.peticiones)?t("MiddleBox",{staticClass:"shadowHover"},[t(c.Z,{attrs:{color:"success"},on:{click:function(t){return e.descargarCertificadoPDF()}}},[e._v("Descargar certificado PDF")]),t("br"),t("br"),t(c.Z,{attrs:{color:"success"},on:{click:function(t){return e.descargarCertificadoXLS()}}},[e._v("Descargar certificado XLS (Excel)")])],1):t("MiddleBox",{staticClass:"shadowHover"},[e._v(" El informe no es válido para descargar. ")]),t("FullBoxVue",{staticClass:"shadowHover"},[e.loadingTable?t("div",[t("loadingCSS",[e._v(" Se están creando las solicitudes... "),t("br"),e._v(" Esto puede tomar unos momentos ")])],1):t(po.Z,{attrs:{headers:e.headers,items:e.peticiones,search:e.search}})],1)],1)},Ro=[],yo={data(){return{componentKey:0,valid:!0,itemsSelected:0,userSearch:[],funcionarioSearch:[],candidatoSearch:[],userSearchSelected:"",candidatoSearchSelected:"",coordinadoresSearchSelected:"",funcionarioSearchSelected:"",diasTranscurridos:"",buscarTodosUsuarios:!0,buscarTodasFechas:!0,buscarTodasSolicitud:!0,buscarTodosDepartamentos:!0,buscarTodosCandidatos:!0,buscarTodosCoordinadores:!0,buscarTodosFuncionarios:!0,buscarDiasTranscurridos:!0,rangoFechas:[],estadoSolicitud:null,schemaUbicacion:[],valuesUbicacion:{departamento:"",ciudad:""},estados:null,headers:[{text:"Id Solicitud",value:"id"},{text:"Año",value:"anio"},{text:"Mes",value:"mesCreado"},{text:"Fecha solicitud",value:"fecha_creado"},{text:"Fecha hoy",value:"fecha_actual"},{text:"Días transcurridos",value:"diastranscurridos"},{text:"Departamento",value:"departamento"},{text:"Ciudad",value:"ciudad"},{text:"Empresa",value:"nombreEmpresa"},{text:"Nombre Cliente",value:"nombreCliente"},{text:"Nombre Servicio",value:"servicio"},{text:"Nombre Subservicio",value:"subservicio"},{text:"Nombre Candidato",value:"nombreCandidato"},{text:"Dirección Candidato",value:"direccion"},{text:"# Documento Candidato",value:"numDocCandidato"},{text:"Teléfono Candidato",value:"numTelCandidato"},{text:"Coordinador(es) asignado(s)",value:"coordinadores"},{text:"Analista(s) asignado(s)",value:"encargados"},{text:"Estado solicitud",value:"estado"},{text:"Fecha fin",value:"updated"},{text:"Observaciones Cliente",value:"observacionesCandidato"},{text:"Observaciones Analista",value:"observaciones"}],peticiones:[],search:"",loadingTable:!0}},methods:{recargarFormulario(){this.componentKey+=1},userSearchSelectedFunc(e){this.userSearchSelected=e},candidatoSearchSelectedFunc(e){this.candidatoSearchSelected=e},coordinadoresSearchSelectedFunc(e){this.coordinadoresSearchSelected=e},funcionarioSearchSelectedFunc(e){this.funcionarioSearchSelected=e},consultaCiudad(e){X(e).then(function(e){const t=1;if(e.data.length>0){const o={value:"",text:"Seleccione la ciudad",disabled:!0},i=[o];for(let t=0;t<e.data.length;t++){const o={value:"",text:""},a=o;o.value=e.data[t].ID_CIUDAD,a.text=e.data[t].NOMBRE_CIUDAD,i.push(a)}null==this.schemaUbicacion[t]?this.schemaUbicacion.splice(t,0,{id:"ciudad",span:!0,component:"VSelect",label:"Ciudad",items:i}):(this.schemaUbicacion[t]={id:"ciudad",span:!0,component:"VSelect",label:"Ciudad",items:i},this.recargarFormulario())}else this.schemaUbicacion.splice(t,1)}.bind(this))},descargarCertificadoPDF(){let e={archivo:"pdf",buscarTodosUsuarios:this.buscarTodosUsuarios,buscarTodasFechas:this.buscarTodasFechas,buscarTodasSolicitud:this.buscarTodasSolicitud,buscarTodosDepartamentos:this.buscarTodosDepartamentos,buscarTodosCandidatos:this.buscarTodosCandidatos,buscarTodosCoordinadores:this.buscarTodosCoordinadores,buscarTodosFuncionarios:this.buscarTodosFuncionarios,diasTranscurridos:this.diasTranscurridos,userSearchSelected:this.userSearchSelected,rangoFechas:this.rangoFechas,estadoSolicitud:this.estadoSolicitud,valuesUbicacion:this.valuesUbicacion,candidatoSearchSelected:this.candidatoSearchSelected,coordinadoresSearchSelected:this.coordinadoresSearchSelected,funcionarioSearchSelected:this.funcionarioSearchSelected,buscarDiasTranscurridos:this.buscarDiasTranscurridos};Ee(e).then((e=>{const t=`data:application/pdf;base64,${e.data}`,o=document.createElement("a");o.href=t,o.download="test.pdf",o.click()}))},descargarCertificadoXLS(){let e={archivo:"excel",buscarTodosUsuarios:this.buscarTodosUsuarios,buscarTodasFechas:this.buscarTodasFechas,buscarTodasSolicitud:this.buscarTodasSolicitud,buscarTodosDepartamentos:this.buscarTodosDepartamentos,buscarTodosCandidatos:this.buscarTodosCandidatos,buscarTodosCoordinadores:this.buscarTodosCoordinadores,buscarTodosFuncionarios:this.buscarTodosFuncionarios,diasTranscurridos:this.diasTranscurridos,userSearchSelected:this.userSearchSelected,rangoFechas:this.rangoFechas,estadoSolicitud:this.estadoSolicitud,valuesUbicacion:this.valuesUbicacion,candidatoSearchSelected:this.candidatoSearchSelected,coordinadoresSearchSelected:this.coordinadoresSearchSelected,funcionarioSearchSelected:this.funcionarioSearchSelected,buscarDiasTranscurridos:this.buscarDiasTranscurridos};Ee(e).then((e=>{let t=new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});const o=document.createElement("a");o.href=window.URL.createObjectURL(t),o.setAttribute("download","Certificado de solicitudes de usuarios.xlsx"),document.body.appendChild(o),o.click()}))},realizarConsultaEstados(){M().then(function(e){this.estados=e.data}.bind(this))},changeForm(){this.loadingTable=!0;let e={buscarTodosUsuarios:this.buscarTodosUsuarios,buscarTodasFechas:this.buscarTodasFechas,buscarTodasSolicitud:this.buscarTodasSolicitud,buscarTodosDepartamentos:this.buscarTodosDepartamentos,buscarTodosCandidatos:this.buscarTodosCandidatos,buscarTodosCoordinadores:this.buscarTodosCoordinadores,buscarTodosFuncionarios:this.buscarTodosFuncionarios,diasTranscurridos:this.diasTranscurridos,userSearchSelected:this.userSearchSelected,rangoFechas:this.rangoFechas,estadoSolicitud:this.estadoSolicitud,valuesUbicacion:this.valuesUbicacion,candidatoSearchSelected:this.candidatoSearchSelected,coordinadoresSearchSelected:this.coordinadoresSearchSelected,funcionarioSearchSelected:this.funcionarioSearchSelected,buscarDiasTranscurridos:this.buscarDiasTranscurridos};console.log(e),we(e).then((e=>{this.peticiones=e.data,this.loadingTable=!1}))}},mounted(){q().then(function(e){this.userSearch=e.data}.bind(this)),_e().then(function(e){this.coordinadoresSearch=e.data}.bind(this)),Ce().then(function(e){this.candidatoSearch=e.data}.bind(this)),L().then(function(e){let t=[];for(let o in e.data)t.push({id:e.data[o].id,nombre:e.data[o].nombre}),console.log(e.data[o]);this.funcionarioSearch=t}.bind(this)),this.realizarConsultaEstados(),this.changeForm(),Q().then(function(e){const t=0,o={value:"",text:"Seleccione el departamento",disabled:!0},i=[o];for(let a=0;a<e.data.length;a++){const t={value:"",text:""},o=t;t.value=e.data[a].ID_DEPARTAMENTO,o.text=e.data[a].NOMBRE_DEPARTAMENTO,i.push(o)}null==this.schemaUbicacion[t]?this.schemaUbicacion.splice(t,0,{id:"departamento",span:!0,component:"VSelect",label:"Departamento",items:i}):this.schemaUbicacion[t]={id:"departamento",span:!0,component:"VSelect",label:"Departamento",items:i},this.recargarFormulario()}.bind(this))},watch:{userSearchSelected(e){this.changeForm()},candidatoSearchSelected(e){this.changeForm()},coordinadoresSearchSelected(e){this.changeForm()},funcionarioSearchSelected(e){this.changeForm()},diasTranscurridos(e){this.changeForm()},valuesUbicacion(e,t){e.departamento&&e.departamento!=t.departamento&&(this.valuesUbicacion.ciudad="",this.consultaCiudad(e.departamento)),this.changeForm()}},components:{FullBoxVue:ut,MiddleBox:It,searchUserMultipleVue:co,BlitzForm:gt.lU,loadingCSS:wt}},Uo=yo,Oo=(0,Fe.Z)(Uo,Fo,Ro,!1,null,"6c9f6bf2",null),Vo=Oo.exports,Do=function(){var e=this,t=e._self._c;return e.valido?t("div",{key:e.componentKey},[t("FullBoxVue",[t("h1",[e._v("¡Hola "+e._s(e.datosWCandidato.nombreCandidato)+"!")]),t("br"),t("p",[e._v(" Por favor suba los archivos relacionados con la solicitud del servicio "+e._s(e.datosWCandidato.NOMBRE_SERVICIO)+"/"+e._s(e.datosWCandidato.NOMBRE_SUBSERVICIO)+" ")])]),t("FullBoxVue",{staticClass:"shadowHover"},[t("div",[t("h1",[e._v("Subir los archivos requeridos")])])]),t("FullBoxVue",{staticClass:"shadowHover"},e._l(e.archivosRequeridos,(function(o,i){return t("div",{key:i},[t("h2",[e._v(e._s(o.nombre))]),t("input",{attrs:{type:"file"},on:{change:function(t){return e.onFileChange(t,i)}}}),e._v("   "),t(c.Z,{attrs:{color:"success"},on:{click:function(t){return e.subirArchivo(i,o.nombre)}}},[e._v("Subir archivo")]),t(h.Z,[t("h2",[e._v("Archivos subidos")]),e._v(" Pulse encima del archivo para descargar "),t("br"),t("br"),t(S.Z,{attrs:{dense:""}},e._l(o.archivosSubidos,(function(o,i){return t(u.Z,{key:i},[t(l.Z,{staticClass:"archivo shadowHover"},[t(c.Z,{attrs:{color:"pink",fab:"",dark:"",small:"",absolute:"",top:"",left:""},on:{click:function(t){return e.eliminarArchivo(o.id)}}},[t(p.Z,[e._v("mdi-close")])],1),t("div",{on:{click:function(t){return e.descargarArchivos(o.archivo,o.nombreArchivo)}}},[t(p.Z,{attrs:{size:"100px"}},[e._v(" mdi-file-chart ")]),t("br"),e._v(" "+e._s(o.nombreArchivo)+" "),t("br"),t("h6",[e._v("Fecha subida: "+e._s(o.creado))]),t("h6",[e._v("Subido por: "+e._s(o.subidoPor))])],1),t(xo.Z,{attrs:{label:"Observaciones"},on:{change:function(t){return e.actualizarComentariosArchivo(o.id,o.comentarios)}},model:{value:o.comentarios,callback:function(t){e.$set(o,"comentarios",t)},expression:"archivoSubido.comentarios"}})],1)],1)})),1)],1),t("br"),t("hr"),t("br")],1)})),0),t("FullBoxVue",[e._v(" Pulse el siguiente botón sólo cuando "),t("b",[e._v("esté seguro que subió los archivos necesarios")]),e._v(". "),t("br"),t(c.Z,{attrs:{color:"error"},on:{click:function(t){return e.finalizarSubirArchivos()}}},[e._v("Finalizar proceso de subir archivos")])],1)],1):t("div",[t("br"),t("br"),t("FullBoxVue",[t("h1",[e._v("¡Este enlace no es válido!")])])],1)},Io=[],Bo={data(){return{idSolicitudRef:"",infoSolicitud:{},infoSolicitudCandidatos:{},componentKey:1,estadoSolicitud:null,estados:null,idSolicitud:this.$route.params.id,archivosSubidos:[],Images:null,valido:!1,userSearchSelected:[],userSearch:[],datosWCandidato:{},archivosRequeridos:[],archivosSeleccionados:[]}},methods:{actualizarComponente(){this.componentKey+=1},actualizarComentariosArchivo(e,t){let o={observacionesAnalistaProveedor:t,idSolicitud:e};j(o)},onFileChange(e,t){let o=e.target.files[0];this.archivosSeleccionados[t]=o,console.log(this.archivosSeleccionados)},finalizarSubirArchivos(){pe(this.idSolicitudRef).then(function(e){window.location.reload()}.bind(this))},realizarConsultaArchivos(){for(let e=0;e<this.archivosRequeridos.length;e++)this.archivosSeleccionados.push({});for(let e=0;e<this.archivosRequeridos.length;e++)me(this.idSolicitudRef,this.archivosRequeridos[e]).then(function(t){this.archivosRequeridos[e]={nombre:this.archivosRequeridos[e],archivosSubidos:t.data},this.actualizarComponente()}.bind(this))},eliminarArchivo(e){ue(e).then(function(e){this.realizarConsultaArchivos()}.bind(this))},realizarConsulta(){he(this.idSolicitud).then(function(e){try{this.idSolicitudRef=e.data.id,this.datosWCandidato=e.data,this.archivosRequeridos=[],this.archivosRequeridos=this.datosWCandidato.DOCUMENTOS_REQUERIDOS.split("\n"),console.log(this.archivosSeleccionados),this.realizarConsultaArchivos(),void 0!=this.idSolicitudRef&&(this.valido=!0,this.componentKey+=1)}catch{this.valido=!1}}.bind(this))},subirArchivo(e,t){const o=new FormData;o.append("file",this.archivosSeleccionados[e]),o.append("idSolicitud",this.idSolicitudRef),o.append("descripcion",t),ve(o).then(function(e){const t=this.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",this.$swal.stopTimer),e.addEventListener("mouseleave",this.$swal.resumeTimer)}});t.fire({icon:"success",title:"Solicitud enviada exitosamente"}),window.location.reload()}.bind(this))},descargarArchivos(e,t){Ze(e).then((e=>{const o=window.URL.createObjectURL(new Blob([e.data])),i=document.createElement("a");i.href=o,i.setAttribute("download",t),document.body.appendChild(i),i.click()}))}},mounted(){this.realizarConsulta()},components:{FullBoxVue:ut,MiddleBox:It}},Po=Bo,Mo=(0,Fe.Z)(Po,Do,Io,!1,null,null,null),Ao=Mo.exports,No=function(){var e=this,t=e._self._c;return t("div",[t("FullBoxVue",{staticClass:"shadowHover"},[t("h1",[e._v("Cargar plantilla de generación masiva de solicitudes")]),t("a",{attrs:{download:""},on:{click:e.descargarExcel}},[t("p",[e._v("Descargar plantilla de solicitudes masivas")])])]),t("MiddleBox",{staticClass:"shadowHover"},[t("h2",[e._v("Generador de Servicios y subservicios para plantilla")]),t("searchUserVue",{attrs:{people:e.userSearch},on:{selected:e.userSearchSelectedFunc}}),e._l(e.schemaServicio,(function(o,i){return t("div",{key:i},[t(bt.Z,{attrs:{items:o.servicio,"item-text":"nombre","item-value":"nombre",label:"Servicio"},on:{change:function(t){return e.buscarSubservicio(e.valuesServicio[i].servicio,i)}},model:{value:e.valuesServicio[i].servicio,callback:function(t){e.$set(e.valuesServicio[i],"servicio",t)},expression:"valuesServicio[index].servicio"}}),t(bt.Z,{attrs:{items:o.subservicio,"item-text":"nombre","item-value":"nombre",label:"SubServicio"},model:{value:e.valuesServicio[i].subservicio,callback:function(t){e.$set(e.valuesServicio[i],"subservicio",t)},expression:"valuesServicio[index].subservicio"}})],1)})),t("BlitzForm",{key:e.componentKeyUbicacion,attrs:{schema:e.schemaUbicacion,gridGap:"0",labelPosition:"left"},model:{value:e.valuesUbicacion,callback:function(t){e.valuesUbicacion=t},expression:"valuesUbicacion"}}),e._v(" "+e._s(e.msgFormato)+" "),t("br"),t(c.Z,{on:{click:function(t){return e.validarGenerador()}}},[e._v(" Copiar formato ")])],2),t("MiddleBox",{staticClass:"shadowHover"},[t("h2",[e._v("Subir plantilla")]),e.loading?t("div",[t("loadingCSS",[e._v(" Se están creando las solicitudes... "),t("br"),e._v(" Esto puede tomar unos momentos ")])],1):t("div",[t("br"),t("input",{ref:"file",attrs:{type:"file"},on:{change:e.uploadFile}}),t("br"),t("br"),t(c.Z,{attrs:{color:"primary",dark:""},on:{click:e.enviarFormulario}},[e._v(" Enviar Plantilla ")])],1)])],1)},zo=[];i.ZP.component("VTextField",g.Z),i.ZP.component("VRadioGroup",$t.Z),i.ZP.component("VRadio",kt.Z),i.ZP.component("VSlider",Tt.Z),i.ZP.component("VCheckbox",Ft.Z),i.ZP.component("VSwitch",Rt.Z),i.ZP.component("VSelect",bt.Z);const qo={servicio:"",subservicio:""};var Lo={data(){return{valuesServicio:[],CentroCostos:"",schemaServicio:[],valuesUbicacion:{departamento:"",ciudad:""},msgFormato:"",schemaUbicacion:[],componentKey:0,componentKeyUbicacion:-1,valuesCandidato:{nombreCandidato:"",tipodocumento:"",documento:"",numeroCandidato:"",correo:"",observaciones:""},schemaCandidato:[],Images:null,datosUser:{},userSearch:[],userSearchSelected:[],serviciosDefault:[],loading:!1}},methods:{descargarExcel(){let e="../upload/plantillaSolicitudesMasivas.xlsx";Ze(e).then((t=>{console.log(t.data);let o=e.split("/")[2];const i=window.URL.createObjectURL(new Blob([t.data])),a=document.createElement("a");a.href=i,a.setAttribute("download",o),document.body.appendChild(a),a.click()}))},validarGenerador(){let e=this.userSearchSelected,t=this.valuesServicio[0].servicio,o=this.valuesServicio[0].subservicio,i=this.valuesUbicacion.departamento,a=this.valuesUbicacion.ciudad;if(""!=e&&""!=t&&""!=o&&""!=i&&""!=a){let s=e+"\t"+t+"\t"+o+"\t"+i+"\t"+a+"\t";this.msgFormato="Formato copiado, lo puede pegar directamente en el excel de la plantilla",navigator.clipboard.writeText(s)}else this.msgFormato="Faltan datos para llenar"},userSearchSelectedFunc(e){this.userSearchSelected=e},recargarFormulario(){this.componentKey+=1,this.componentKeyUbicacion-=1},uploadFile(){this.Images=this.$refs.file.files[0]},enviarFormulario(){this.loading=!0;const e=new FormData;e.append("file",this.Images),$e(e).then(function(e){console.log(e.data);const t=this.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",this.$swal.stopTimer),e.addEventListener("mouseleave",this.$swal.resumeTimer)}});t.fire({icon:"success",title:"Solicitud enviada exitosamente"}),this.recargarFormulario(),this.loading=!1}.bind(this)),console.log(e)},agregarServicios(){this.schemaServicio.push(structuredClone({servicio:this.serviciosDefault,subservicio:[]})),this.valuesServicio.push(structuredClone(qo))},consultaServicio(e){Y().then(function(e){this.preServicios=e.data,this.serviciosDefault=[];for(let t=0;t<this.preServicios.length;t++)console.log(this.preServicios[t]),this.serviciosDefault.push({id:this.preServicios[t].ID_SERVICIO,nombre:this.preServicios[t].NOMBRE_SERVICIO});this.agregarServicios(),this.recargarFormulario()}.bind(this))},buscarSubservicio(e,t){te(e).then(function(e){if(e.data.length>0){let o=e.data,i=[];for(let e=0;e<o.length;e++)i.push({id:o[e].ID_SUBSERVICIO,nombre:o[e].NOMBRE_SUBSERVICIO});this.schemaServicio[t].subservicio=i,this.recargarFormulario()}}.bind(this))},consultaServicioEspecifico(e){oe(e).then(function(e){const t=3;if(e.data.length>0){const o={value:"",text:"Seleccione el Servicio Específico",disabled:!0},i=[o];for(let t=0;t<e.data.length;t++){const o={value:"",text:""},a=o;o.value=e.data[t].ID_SERVICIO_ESPECIFICO,a.text=e.data[t].NOMBRE_SERVICIO_ESPECIFICO,i.push(a)}null==this.schemaServicio[t]?this.schemaServicio.splice(t,0,{id:"servicioEspecifico",span:!0,component:"VSelect",label:"Servicio Específico",items:i}):(this.schemaServicio[t]={id:"servicioEspecifico",span:!0,component:"VSelect",label:"Servicio Específico",items:i},this.recargarFormulario())}else this.schemaServicio.splice(t,1)}.bind(this))},consultaServicioEspecificoEspecifico(e){ie(e).then(function(e){const t=4;if(console.log(e.data),e.data.length>0){const o={value:"",text:"Seleccione el Servicio Específico",disabled:!0},i=[o];for(let t=0;t<e.data.length;t++){const o={value:"",text:""},a=o;o.value=e.data[t].ID_SERVICIO_ESPECIFICO2,a.text=e.data[t].NOMBRE_SERVICIO_ESPECIFICO2,i.push(a)}null==this.schemaServicio[t]?this.schemaServicio.splice(t,0,{id:"servicioEspecificoEspecifico",span:!0,component:"VSelect",label:"Servicio Específico",items:i}):(this.schemaServicio[t]={id:"servicioEspecificoEspecifico",span:!0,component:"VSelect",label:"Servicio Específico",items:i},this.recargarFormulario())}else this.schemaServicio.splice(t,1)}.bind(this))},consultaCiudad(e){X(e).then(function(e){const t=1;if(e.data.length>0){const o={value:"",text:"Seleccione la ciudad",disabled:!0},i=[o];for(let t=0;t<e.data.length;t++){const o={value:"",text:""},a=o;o.value=e.data[t].ID_CIUDAD,a.text=e.data[t].NOMBRE_CIUDAD,i.push(a)}null==this.schemaUbicacion[t]?this.schemaUbicacion.splice(t,0,{id:"ciudad",span:!0,component:"VSelect",label:"Ciudad",items:i}):(this.schemaUbicacion[t]={id:"ciudad",span:!0,component:"VSelect",label:"Ciudad",items:i},this.recargarFormulario())}else this.schemaUbicacion.splice(t,1)}.bind(this))}},mounted(){q().then(function(e){this.userSearch=e.data}.bind(this)),this.consultaServicio(0),Q().then(function(e){const t=0,o={value:"",text:"Seleccione el departamento",disabled:!0},i=[o];for(let a=0;a<e.data.length;a++){const t={value:"",text:""},o=t;t.value=e.data[a].ID_DEPARTAMENTO,o.text=e.data[a].NOMBRE_DEPARTAMENTO,i.push(o)}null==this.schemaUbicacion[t]?this.schemaUbicacion.splice(t,0,{id:"departamento",span:!0,component:"VSelect",label:"Departamento",items:i}):this.schemaUbicacion[t]={id:"departamento",span:!0,component:"VSelect",label:"Departamento",items:i},this.recargarFormulario()}.bind(this)),ae().then(function(e){console.log(e.data);const t={value:"",text:"Seleccionar tipo de documento",disabled:!0},o=[t];for(let a=0;a<e.data.length;a++){const t={value:"",text:""},i=t;t.value=e.data[a].ID_TIPO_DOCUMENTO,i.text=e.data[a].DESC_COMPLE_TIPO_DOCUMENTOcol,o.push(i)}const i={id:"tipodocumento",span:!0,component:"VSelect",label:"Tipo de documento",items:o};this.schemaCandidato=[{id:"nombreCandidato",component:"VTextField",label:"Nombre del candidato"},i,{id:"documento",component:"VTextField",label:"Número de documento"},{id:"numeroCandidato",component:"VTextField",label:"Número telefónico"},{id:"correo",component:"VTextField",label:"Correo"},{id:"observaciones",component:"VTextField",label:"Observaciones"}],this.recargarFormulario()}.bind(this))},watch:{valuesUbicacion(e,t){e.departamento&&e.departamento!=t.departamento&&(this.valuesUbicacion.ciudad="",this.consultaCiudad(e.departamento))}},components:{FullBoxVue:ut,BlitzForm:gt.lU,MiddleBox:It,searchUserVue:Ht,loadingCSS:wt}},Ho=Lo,Ko=(0,Fe.Z)(Ho,No,zo,!1,null,"b0302c8c",null),jo=Ko.exports,Go=function(){var e=this,t=e._self._c;return t("FullBoxVue",{staticClass:"shadowHover"},[t("h1",[e._v("Ver usuarios")]),t("br"),t("router-link",{attrs:{to:"/registerCliente"}},[t(c.Z,{attrs:{color:"primary"}},[e._v("Agregar nuevo cliente")])],1),t("br"),t("br"),t("router-link",{attrs:{to:"/registerUser"}},[t(c.Z,{attrs:{color:"primary"}},[e._v("Agregar nueva cuenta")])],1),t("br"),t("br"),t(l.Z,[t(d.EB,[t(g.Z,{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t(po.Z,{attrs:{headers:e.headers,items:e.peticiones,search:e.search},on:{"click:row":e.seleccionarPeticion}})],1)],1)},Wo=[],Jo={data(){return{search:"",headers:[{text:"Id",value:"id"},{text:"Estado Cliente",value:"estado"},{text:"Nombre Cliente",value:"nombre"},{text:"Rol",value:"rol"},{text:"Código de cliente",value:"cod_cliente"},{text:"Correo",value:"correo"},{text:"Documento",value:"documento"},{text:"Tipo de documento",value:"tipo_documento"}],peticiones:[],idSolicitudSeleccionada:{},infoSolicitudRef:null}},components:{FullBoxVue:ut},methods:{seleccionarPeticion(e){this.idSolicitudSeleccionada=e,this.$router.push({path:"/usuario/"+this.idSolicitudSeleccionada.id}).catch((()=>{}))}},mounted(){A().then(function(e){console.log(e.data),this.peticiones=e.data}.bind(this))}},Qo=Jo,Xo=(0,Fe.Z)(Qo,Go,Wo,!1,null,null,null),Yo=Xo.exports,ei=function(){var e=this,t=e._self._c;return e.valido&&3==e.$dataUser[0].idRol?t("div",{key:e.componentKey},[t("FullBoxVue",{staticClass:"shadowHover"},[t("h1",[e._v("Usuario "+e._s(e.infoSolicitud.nombre))])]),t("FullBoxVue",{staticClass:"shadowHover"},[t(v.Z,[t("p",[e._v(" Estado actual usuario: "),t("span",{class:"Habilitado"==e.infoSolicitud.estado?"primary--text":"error--text"},[e._v(e._s(e.infoSolicitud.estado))])]),t(c.Z,{attrs:{color:"Habilitado"==e.infoSolicitud.estado?"error":"primary"},on:{click:function(t){return e.habilitarUsuario()}}},[e._v(" "+e._s("Habilitado"==e.infoSolicitud.estado?"deshabilitar":"Habilitar")+" usuario ")]),t(h.Z,[t(S.Z,[t(u.Z,{attrs:{cols:"12",sm:"12"}},[t(g.Z,{attrs:{label:"Código de cliente",readonly:"",filled:""},model:{value:e.infoSolicitud.cod_cliente,callback:function(t){e.$set(e.infoSolicitud,"cod_cliente",t)},expression:"infoSolicitud.cod_cliente"}})],1),t(u.Z,{attrs:{cols:"12",sm:"12"}},[t(g.Z,{attrs:{label:"Nombre"},model:{value:e.infoSolicitud.nombre,callback:function(t){e.$set(e.infoSolicitud,"nombre",t)},expression:"infoSolicitud.nombre"}})],1),t(u.Z,{attrs:{cols:"12",sm:"12"}},[t(g.Z,{attrs:{label:"Correo"},model:{value:e.infoSolicitud.correo,callback:function(t){e.$set(e.infoSolicitud,"correo",t)},expression:"infoSolicitud.correo"}})],1),t(u.Z,{attrs:{cols:"12",sm:"12"}},[t(g.Z,{attrs:{label:"Contacto"},model:{value:e.infoSolicitud.contacto,callback:function(t){e.$set(e.infoSolicitud,"contacto",t)},expression:"infoSolicitud.contacto"}})],1),t(u.Z,{attrs:{cols:"12",sm:"12"}},[t(g.Z,{attrs:{label:"Empresa"},model:{value:e.infoSolicitud.empresa,callback:function(t){e.$set(e.infoSolicitud,"empresa",t)},expression:"infoSolicitud.empresa"}})],1),t(u.Z,{attrs:{cols:"12",sm:"12"}},[t(g.Z,{attrs:{label:"Tipo de documento",readonly:"",filled:""},model:{value:e.infoSolicitud.tipo_documento,callback:function(t){e.$set(e.infoSolicitud,"tipo_documento",t)},expression:"infoSolicitud.tipo_documento"}})],1),t(u.Z,{attrs:{cols:"12",sm:"12"}},[t(g.Z,{attrs:{label:"Número de documento"},model:{value:e.infoSolicitud.documento,callback:function(t){e.$set(e.infoSolicitud,"documento",t)},expression:"infoSolicitud.documento"}})],1),"7"==e.infoSolicitud.rol||"5"==e.infoSolicitud.rol||"6"==e.infoSolicitud.rol?t(bt.Z,{attrs:{items:e.serviciosDefault,"item-text":"nombre","item-value":"id",label:"Servicios disponibles",multiple:""},model:{value:e.infoSolicitud.serviciosAsociados,callback:function(t){e.$set(e.infoSolicitud,"serviciosAsociados",t)},expression:"infoSolicitud.serviciosAsociados"}}):e._e(),"8"==e.infoSolicitud.rol?t("searchUserMultipleVue",{attrs:{people:e.userSearch},on:{selected:e.userSearchSelectedFunc}}):e._e(),t(Yt.Z,{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.infoSolicitud.fechaCorte,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){return e.$set(e.infoSolicitud,"fechaCorte",t)},"update:return-value":function(t){return e.$set(e.infoSolicitud,"fechaCorte",t)}},scopedSlots:e._u([{key:"activator",fn:function({on:o,attrs:i}){return[t(Qt.Z,e._g(e._b({attrs:{chips:"","small-chips":"",label:"Fecha de corte","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.infoSolicitud.fechaCorte,callback:function(t){e.$set(e.infoSolicitud,"fechaCorte",t)},expression:"infoSolicitud.fechaCorte"}},"v-combobox",i,!1),o))]}}],null,!1,3889672999),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[t(Xt.Z,{attrs:{"no-title":"",scrollable:""},model:{value:e.infoSolicitud.fechaCorte,callback:function(t){e.$set(e.infoSolicitud,"fechaCorte",t)},expression:"infoSolicitud.fechaCorte"}},[t(eo.Z),t(c.Z,{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v(" Cancelar ")]),t(c.Z,{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu.save(e.dates)}}},[e._v(" OK ")])],1)],1)],1)],1),t(c.Z,{attrs:{color:"primary"},on:{click:e.actualizarUsuario}},[e._v(" Actualizar ")])],1)],1)],1):e._e()},ti=[],oi={data(){return{infoSolicitud:{},infoSolicitudCandidatos:{},componentKey:1,estados:null,idSolicitud:this.$route.params.id,archivosSubidos:[],Images:null,valido:!1,userSearchSelected:[],userSearch:[],menu:!1,serviciosDefault:[]}},components:{FullBoxVue:ut,MiddleBox:It,searchUserMultipleVue:co},methods:{userSearchSelectedFunc(e){this.infoSolicitud.userSearchSelected=e},realizarConsulta(){z(this.idSolicitud).then(function(e){this.infoSolicitud=e.data[0],this.componentKey+=1}.bind(this))},actualizarUsuario(){N(this.infoSolicitud).then(function(e){}.bind(this))},consultaServicio(){Y().then(function(e){this.preServicios=e.data,this.serviciosDefault=[];for(let t=0;t<this.preServicios.length;t++)this.serviciosDefault.push({id:this.preServicios[t].ID_SERVICIO,nombre:this.preServicios[t].NOMBRE_SERVICIO})}.bind(this))},habilitarUsuario(){y({idUsuario:this.infoSolicitud.cod_cliente}).then(function(e){window.location.reload()}.bind(this))}},mounted(){q().then(function(e){this.userSearch=e.data}.bind(this)),this.realizarConsulta(),this.consultaServicio()},watch:{infoSolicitud(e){e!={}&&(this.valido=!0)}}},ii=oi,ai=(0,Fe.Z)(ii,ei,ti,!1,null,null,null),si=ai.exports,ri=function(){var e=this,t=e._self._c;return t("FullBoxVue",{staticClass:"shadowHover"},[t("h1",[e._v("Actualizar contraseña")]),t("br"),t("br"),t("br"),t(v.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(h.Z,[t(S.Z,[t(u.Z,{attrs:{cols:"12",md:"12"}},[t(g.Z,{attrs:{label:"Ingrese contraseña antigua",type:"password",rules:e.rulesRequired,required:""},model:{value:e.contrasenaAntigua,callback:function(t){e.contrasenaAntigua=t},expression:"contrasenaAntigua"}})],1),t(u.Z,{attrs:{cols:"12",md:"12"}},[t(g.Z,{attrs:{rules:e.rulesRequired,label:"Ingrese nueva contraseña",type:"password",required:""},model:{value:e.contrasenaNueva,callback:function(t){e.contrasenaNueva=t},expression:"contrasenaNueva"}})],1),t(u.Z,{attrs:{cols:"12",md:"12"}},[t(g.Z,{attrs:{rules:e.rulesRequired,label:"Vuelva a ingresar nueva contraseña",type:"password",required:""},model:{value:e.contrasenaNuevaValidacion,callback:function(t){e.contrasenaNuevaValidacion=t},expression:"contrasenaNuevaValidacion"}})],1)],1)],1),t(c.Z,{attrs:{color:"primary"},on:{click:e.actualizarContrasena}},[e._v(" Actualizar Contraseña ")])],1)],1)},ni=[],ci={components:{FullBoxVue:ut},data(){return{contrasenaAntigua:"",contrasenaNueva:"",contrasenaNuevaValidacion:""}},methods:{actualizarContrasena(){const e=this.$refs.form.validate();e&&(this.loading=!0,this.alertError=!1,I({contrasenaAntigua:this.contrasenaAntigua,contrasenaNueva:this.contrasenaNueva,contrasenaNuevaValidacion:this.contrasenaNuevaValidacion}).then(function(e){if(""==e.data){const e=this.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",this.$swal.stopTimer),e.addEventListener("mouseleave",this.$swal.resumeTimer)}});e.fire({icon:"success",title:"Contraseña cambiada correctamente, por favor, vuelva a iniciar sesión."}),localStorage.removeItem("userTkn"),setTimeout("document.location.reload()",1e3)}else{const e=this.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",this.$swal.stopTimer),e.addEventListener("mouseleave",this.$swal.resumeTimer)}});e.fire({icon:"error",title:"Contraseñas no coinciden"})}}.bind(this)).catch(function(e){const t=this.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",this.$swal.stopTimer),e.addEventListener("mouseleave",this.$swal.resumeTimer)}});t.fire({icon:"error",title:"Error al cambiar la contraseña."})}.bind(this)))}}},li=ci,di=(0,Fe.Z)(li,ri,ni,!1,null,null,null),ui=di.exports,hi=o(9930),mi=o(5130),vi=function(){var e=this,t=e._self._c;return t("div",[t("FullBoxVue",{staticClass:"shadowHover"},[t("h1",[e._v("Modificar servicios")]),t("br"),t(c.Z,{attrs:{color:"primary",dark:""},on:{click:function(t){e.showModal=!0}}},[e._v("Registrar nuevo servicio")]),t(hi.Z,{attrs:{"max-width":"500px"},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[t(l.Z,[t(d.EB,[t("span",{staticClass:"headline"},[e._v("Ingrese el nombre del nuevo servicio")])]),t(d.ZB,[t(g.Z,{attrs:{label:"Nombre de servicio"},model:{value:e.newData,callback:function(t){e.newData=t},expression:"newData"}})],1),t(d.h7,[t(eo.Z),t(c.Z,{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.showModal=!1}}},[e._v("Cancelar")]),t(c.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.saveData}},[e._v("Guardar")])],1)],1)],1),t("br"),t("br"),t(l.Z,[t(d.EB,[t(g.Z,{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t(po.Z,{attrs:{headers:e.headers,items:e.serviciosDefault,search:e.search},scopedSlots:e._u([{key:"body",fn:function({items:o,headers:i}){return[t("tbody",e._l(o,(function(o,a,s){return t("tr",{key:a},e._l(i,(function(i,a){return t("td",{key:a},[t(mi.Z,{attrs:{"return-value":o[i.value],"save-text":"Guardar","cancel-text":"Cancelar",large:""},on:{"update:returnValue":function(t){return e.$set(o,i.value,t)},"update:return-value":function(t){return e.$set(o,i.value,t)},save:function(t){return e.save(o)},cancel:e.cancel,open:e.open,close:e.close},scopedSlots:e._u([{key:"input",fn:function(){return[t(g.Z,{attrs:{label:"Nombre solicitud","single-line":""},model:{value:o[i.value],callback:function(t){e.$set(o,i.value,t)},expression:"item[header.value]"}}),t(xo.Z,{attrs:{label:"Documentos Requeridos para el candidato"},model:{value:o.documentos_requeridos,callback:function(t){e.$set(o,"documentos_requeridos",t)},expression:"item.documentos_requeridos"}}),t(c.Z,{attrs:{color:"error"},on:{click:function(t){return e.habilitarServicio(o)}}},[e._v(" Deshabilitar servicio ")]),t("br"),t("br"),t(c.Z,{attrs:{color:"primary",outlined:""},on:{click:function(t){return e.seleccionarPeticion(o)}}},[e._v("Mirar subservicios")])]},proxy:!0}],null,!0)},[e._v(" "+e._s(o[i.value])+" ")])],1)})),0)})),0)]}}])})],1)],1),t("FullBoxVue",{staticClass:"shadowHover"},[t("h1",[e._v("Servicios deshabilitados")]),t("br"),t("br"),t(l.Z,[t(d.EB,[t(g.Z,{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t(po.Z,{attrs:{headers:e.headers,items:e.serviciosDeshabilitadosDefault,search:e.search},scopedSlots:e._u([{key:"body",fn:function({items:o,headers:i}){return[t("tbody",e._l(o,(function(o,a,s){return t("tr",{key:a},e._l(i,(function(i,a){return t("td",{key:a},[t(mi.Z,{attrs:{"return-value":o[i.value],"save-text":"Guardar","cancel-text":"Cancelar",large:""},on:{"update:returnValue":function(t){return e.$set(o,i.value,t)},"update:return-value":function(t){return e.$set(o,i.value,t)},save:function(t){return e.save(o)},cancel:e.cancel,open:e.open,close:e.close},scopedSlots:e._u([{key:"input",fn:function(){return[t(g.Z,{attrs:{label:"Nombre solicitud","single-line":""},model:{value:o[i.value],callback:function(t){e.$set(o,i.value,t)},expression:"item[header.value]"}}),t(xo.Z,{attrs:{label:"Documentos Requeridos para el candidato"},model:{value:o.documentos_requeridos,callback:function(t){e.$set(o,"documentos_requeridos",t)},expression:"item.documentos_requeridos"}}),t(c.Z,{attrs:{color:"primary"},on:{click:function(t){return e.habilitarServicio(o)}}},[e._v(" Habilitar servicio ")]),t("br"),t("br"),t(c.Z,{attrs:{color:"primary",outlined:""},on:{click:function(t){return e.seleccionarPeticion(o)}}},[e._v("Mirar subservicios")])]},proxy:!0}],null,!0)},[e._v(" "+e._s(o[i.value])+" ")])],1)})),0)})),0)]}}])})],1)],1)],1)},pi=[],bi={data(){return{search:"",headers:[{text:"Nombre del servicio",value:"nombre"}],serviciosDefault:[],serviciosDeshabilitadosDefault:[],idSolicitudSeleccionada:{},infoSolicitudRef:null,showModal:!1,costo:"",documentosRequeridos:"",documentosRequeridosPre:"",newData:""}},components:{FullBoxVue:ut},methods:{consultaServicio(){Y().then(function(e){this.preServicios=e.data,this.serviciosDefault=[];for(let t=0;t<this.preServicios.length;t++)this.serviciosDefault.push({id:this.preServicios[t].ID_SERVICIO,nombre:this.preServicios[t].NOMBRE_SERVICIO,documentos_requeridos:this.preServicios[t].DOCUMENTOS_REQUERIDOS.replace(/<br>/g,"\n")})}.bind(this))},consultaServicioDeshabilitado(){O().then(function(e){this.preServicios=e.data,this.serviciosDeshabilitadosDefault=[];for(let t=0;t<this.preServicios.length;t++)this.serviciosDeshabilitadosDefault.push({id:this.preServicios[t].ID_SERVICIO,nombre:this.preServicios[t].NOMBRE_SERVICIO,documentos_requeridos:this.preServicios[t].DOCUMENTOS_REQUERIDOS.replace(/<br>/g,"\n")})}.bind(this))},seleccionarPeticion(e){this.idSolicitudSeleccionada=e,this.$router.push({path:"/servicio/"+this.idSolicitudSeleccionada.id}).catch((()=>{}))},habilitarServicio(e){U({idServicio:e.id}).then(function(e){window.location.reload()}.bind(this))},saveData(){be({nombre:this.newData}).then(function(e){window.location.reload()}.bind(this))},updateText(e){e.documentos_requeridos=e.documentos_requeridos.replace(/\n/g,"<br>")},save(e){e.documentos_requeridos=e.documentos_requeridos.replace(/<br>/g,"\n"),fe(e).then(function(e){window.location.reload()}.bind(this))},cancel(){},open(){},close(){}},mounted(){this.consultaServicio(),this.consultaServicioDeshabilitado()}},fi=bi,Si=(0,Fe.Z)(fi,vi,pi,!1,null,"37874424",null),gi=Si.exports,Ci=function(){var e=this,t=e._self._c;return t("FullBoxVue",{staticClass:"shadowHover"},[t("h1",[e._v("Modificar servicios")]),t("br"),t(c.Z,{attrs:{color:"primary",dark:""},on:{click:function(t){e.showModal=!0}}},[e._v("Registrar nuevo subservicio")]),t(hi.Z,{attrs:{"max-width":"500px"},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[t(l.Z,[t(d.EB,[t("span",{staticClass:"headline"},[e._v("Ingrese el nombre del nuevo subservicio")])]),t(d.ZB,[t(g.Z,{attrs:{label:"Nombre de subservicio"},model:{value:e.newData,callback:function(t){e.newData=t},expression:"newData"}})],1),t(d.h7,[t(eo.Z),t(c.Z,{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.showModal=!1}}},[e._v("Cancelar")]),t(c.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.saveData}},[e._v("Guardar")])],1)],1)],1),t("br"),t("br"),t(l.Z,[t(d.EB,[t(g.Z,{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t(po.Z,{attrs:{headers:e.headers,items:e.serviciosDefault,search:e.search},scopedSlots:e._u([{key:"body",fn:function({items:o,headers:i}){return[t("tbody",e._l(o,(function(o,a,s){return t("tr",{key:a},e._l(i,(function(i,a){return t("td",{key:a},[t(mi.Z,{attrs:{"return-value":o[i.value],"save-text":"Guardar","cancel-text":"Cancelar",large:""},on:{"update:returnValue":function(t){return e.$set(o,i.value,t)},"update:return-value":function(t){return e.$set(o,i.value,t)},save:function(t){return e.save(o)},cancel:e.cancel,open:e.open,close:e.close},scopedSlots:e._u([{key:"input",fn:function(){return[t(g.Z,{attrs:{label:"Nombre solicitud","single-line":""},model:{value:o[i.value],callback:function(t){e.$set(o,i.value,t)},expression:"item[header.value]"}})]},proxy:!0}],null,!0)},[e._v(" "+e._s(o[i.value])+" ")])],1)})),0)})),0)]}}])})],1)],1)},_i=[],xi={data(){return{search:"",headers:[{text:"Nombre del subservicio",value:"nombre"}],serviciosDefault:[],idSolicitudSeleccionada:{},infoSolicitudRef:null,showModal:!1,newData:""}},components:{FullBoxVue:ut},methods:{consultaServicio(){ee(this.$route.params.id).then(function(e){this.preServicios=e.data,this.serviciosDefault=[];for(let t=0;t<this.preServicios.length;t++)this.serviciosDefault.push({id:this.preServicios[t].ID_SUBSERVICIO,nombre:this.preServicios[t].NOMBRE_SUBSERVICIO,idServicio:this.preServicios[t].ID_SERVICIO})}.bind(this))},seleccionarPeticion(e){this.idSolicitudSeleccionada=e,this.$router.push({path:"/subservicio/"+this.idSolicitudSeleccionada.id}).catch((()=>{}))},saveData(){Se({nombre:this.newData,idServicio:this.$route.params.id}).then(function(e){window.location.reload()}.bind(this))},save(e){ge(e).then(function(e){window.location.reload()}.bind(this))},cancel(){},open(){},close(){}},mounted(){this.consultaServicio()}},Zi=xi,Ei=(0,Fe.Z)(Zi,Ci,_i,!1,null,null,null),wi=Ei.exports,$i=function(){var e=this,t=e._self._c;return t("FullBoxVue",{staticClass:"shadowHover"},[t("div",{staticClass:"formContent"},[t("h1",[e._v("Registrar Cliente")]),t("br"),t("hr"),t("br"),t("br"),t("BlitzForm",{key:e.componentKey,attrs:{schema:e.schemaRegister,gridGap:"0",labelPosition:"left"},model:{value:e.valuesRegister,callback:function(t){e.valuesRegister=t},expression:"valuesRegister"}}),e._l(e.servicios,(function(o,i){return t("div",{key:i},[e._v(" "+e._s(o.NOMBRE_SERVICIO)+" "),t(g.Z,{attrs:{label:"Costo de servicio "+o.NOMBRE_SERVICIO,type:"number"},on:{change:function(t){return e.updateCosto(t,i)}}})],1)})),t(Yt.Z,{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.valuesRegister.fechaCorte,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){return e.$set(e.valuesRegister,"fechaCorte",t)},"update:return-value":function(t){return e.$set(e.valuesRegister,"fechaCorte",t)}},scopedSlots:e._u([{key:"activator",fn:function({on:o,attrs:i}){return[t(Qt.Z,e._g(e._b({attrs:{chips:"","small-chips":"",label:"Fecha de corte","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.valuesRegister.fechaCorte,callback:function(t){e.$set(e.valuesRegister,"fechaCorte",t)},expression:"valuesRegister.fechaCorte"}},"v-combobox",i,!1),o))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[t(Xt.Z,{attrs:{"no-title":"",scrollable:""},model:{value:e.valuesRegister.fechaCorte,callback:function(t){e.$set(e.valuesRegister,"fechaCorte",t)},expression:"valuesRegister.fechaCorte"}},[t(eo.Z),t(c.Z,{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v(" Cancelar ")]),t(c.Z,{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu.save(e.valuesRegister.fechaCorte)}}},[e._v(" OK ")])],1)],1),t(c.Z,{attrs:{color:"primary",dark:""},on:{click:e.enviarFormulario}},[e._v(" Enviar ")])],2)])},ki=[];i.ZP.component("VTextField",g.Z),i.ZP.component("VRadioGroup",$t.Z),i.ZP.component("VRadio",kt.Z),i.ZP.component("VSlider",Tt.Z),i.ZP.component("VCheckbox",Ft.Z),i.ZP.component("VSwitch",Rt.Z),i.ZP.component("VSelect",bt.Z);const Ti={nombre:"",tipoDocumento:"",contacto:"",correo:"",documento:"",rol:2,serviciosAsociados:"",fechaCorte:"",costos:[]};var Fi={data(){return{valuesRegister:{nombre:"",tipoDocumento:"",contacto:"",correo:"",documento:"",rol:2,serviciosAsociados:"",fechaCorte:"",userSearchSelected:[],costos:[]},menu:!1,serviciosDefault:[],schemaRegister:[{id:"nombre",component:"VTextField",label:"Razón Social"},{},{id:"documento",component:"VTextField",label:"No. Cedula / NIT"},{id:"contacto",component:"VTextField",label:"Teléfono"},{id:"correo",component:"VTextField",label:"Correo"},{id:"empresa",component:"VTextField",label:"Nombre empresa"},{id:"representante_legal",component:"VTextField",label:"Representante Legal"},{id:"direccion",component:"VTextField",label:"Dirección de empresa"}],componentKey:0,costo:0,userSearch:[],servicios:[],costosServicios:[]}},methods:{userSearchSelectedFunc(e){this.valuesRegister.userSearchSelected=e},recargarFormulario(){this.componentKey-=1},updateCosto(e,t){this.costosServicios[t].costo=Number(e),this.valuesRegister.costos=JSON.parse(JSON.stringify(this.costosServicios))},enviarFormulario(){R(this.valuesRegister).then(function(e){console.log(e);const t=this.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",this.$swal.stopTimer),e.addEventListener("mouseleave",this.$swal.resumeTimer)}});""==e.data?(t.fire({icon:"success",title:"Usuario registrado exitosamente"}),this.valuesRegister=Ti,this.recargarFormulario()):t.fire({icon:"error",title:"Error al registrar el usuario, correo no válido y/o ya usado."})}.bind(this)).catch((function(e){const t=this.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",this.$swal.stopTimer),e.addEventListener("mouseleave",this.$swal.resumeTimer)}});t.fire({icon:"error",title:"Error al registrar el usuario, correo no válido y/o ya usado."})}))},consultaServicio(){Y().then(function(e){this.servicios=e.data,this.costosServicios=[];for(let t=0;t<this.servicios.length;t++)this.costosServicios[t]={idServicio:this.servicios[t].ID_SERVICIO,costo:0};this.valuesRegister.costos=JSON.parse(JSON.stringify(this.costosServicios))}.bind(this))}},mounted(){q().then(function(e){this.userSearch=e.data}.bind(this)),ae().then(function(e){const t=1,o={value:"",text:"Seleccionar tipo de documento",disabled:!0},i=[o];for(let a=0;a<e.data.length;a++){const t={value:"",text:""},o=t;t.value=e.data[a].ID_TIPO_DOCUMENTO,o.text=e.data[a].DESC_TIPO_DOCUMENTO,i.push(o)}this.schemaRegister[t]={id:"tipoDocumento",span:!0,component:"VSelect",label:"Tipo de documento",items:i},this.recargarFormulario()}.bind(this)),this.consultaServicio()},watch:{valuesRegister(e,t){this.valuesRegister.fechaCorte=t.fechaCorte,this.valuesRegister.serviciosAsociados=t.serviciosAsociados,this.valuesRegister.userSearchSelected=t.userSearchSelected,this.valuesRegister.costos=t.costos}},components:{FullBoxVue:ut,BlitzForm:gt.lU,searchUserMultipleVue:co}},Ri=Fi,yi=(0,Fe.Z)(Ri,$i,ki,!1,null,null,null),Ui=yi.exports;i.ZP.use(We.ZP);const Oi=[{path:"/",name:"home",component:pt},{path:"/nuevaSolicitud",name:"Form Builder",component:Jt},{path:"/registerUser",name:"Registrar usuario",component:vo},{path:"/peticiones",name:"Ver peticiones",component:_o},{path:"/peticion/:id",name:"Petición",component:To},{path:"/descargarCertificados",name:"Petición",component:Vo},{path:"/candidatoUpload/:id",name:"candidatoUpload",component:Ao},{path:"/usuarios",name:"usuarios",component:Yo},{path:"/usuario/:id",name:"usuario",component:si},{path:"/cargaMasivaSolicitudes",name:"cargaMasivaSolicitudes",component:jo},{path:"/opcionesUser",name:"opcionesUsuario",component:ui},{path:"/restorePassword"},{path:"/modificarServicios",name:"modificarServicio",component:gi},{path:"/servicio/:id",name:"servicio",component:wi},{path:"/registerCliente",name:"registerCliente",component:Ui}],Vi=new We.ZP({mode:"history",base:"/",routes:Oi});var Di=Vi,Ii=o(629);i.ZP.use(Ii.ZP);var Bi=new Ii.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{}}),Pi=o(1705),Mi=o(6808);i.ZP.use(Pi.Z);var Ai=new Pi.Z({lang:{locales:{es:Mi.Z},current:"es"}}),Ni=o(3982),zi=o.n(Ni);i.ZP.config.productionTip=!1,i.ZP.use(zi());let qi=new i.ZP({data:{$dataUser:{}}});i.ZP.mixin({computed:{$dataUser:{get:function(){return qi.$data.$dataUser},set:function(e){qi.$data.$dataUser=e}}}}),new i.ZP({router:Di,store:Bi,vuetify:Ai,loadingCSS:wt,render:e=>e(je)}).$mount("#app")},7768:function(e,t,o){e.exports=o.p+"img/logo.225d10cd.png"}},t={};function o(i){var a=t[i];if(void 0!==a)return a.exports;var s=t[i]={exports:{}};return e[i].call(s.exports,s,s.exports,o),s.exports}o.m=e,function(){var e=[];o.O=function(t,i,a,s){if(!i){var r=1/0;for(d=0;d<e.length;d++){i=e[d][0],a=e[d][1],s=e[d][2];for(var n=!0,c=0;c<i.length;c++)(!1&s||r>=s)&&Object.keys(o.O).every((function(e){return o.O[e](i[c])}))?i.splice(c--,1):(n=!1,s<r&&(r=s));if(n){e.splice(d--,1);var l=a();void 0!==l&&(t=l)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[i,a,s]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.p="/"}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,i){var a,s,r=i[0],n=i[1],c=i[2],l=0;if(r.some((function(t){return 0!==e[t]}))){for(a in n)o.o(n,a)&&(o.m[a]=n[a]);if(c)var d=c(o)}for(t&&t(i);l<r.length;l++)s=r[l],o.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return o.O(d)},i=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=o.O(void 0,[998],(function(){return o(6949)}));i=o.O(i)})();
//# sourceMappingURL=app.8ec4590c.js.map